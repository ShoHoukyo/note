"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunkdocusaurus"] = globalThis["webpackChunkdocusaurus"] || []).push([["vendors-node_modules_mermaid_dist_chunks_mermaid_core_diagram-PSM6KHXK_mjs"],{

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs":
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   populateCommonDb: () => (/* binding */ populateCommonDb)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs\");\n\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(populateCommonDb, \"populateCommonDb\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstNEJYMlZVQUIubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY3VzYXVydXMvLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstNEJYMlZVQUIubWpzPzkxZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgX19uYW1lXG59IGZyb20gXCIuL2NodW5rLUFHSFJCNEpGLm1qc1wiO1xuXG4vLyBzcmMvZGlhZ3JhbXMvY29tbW9uL3BvcHVsYXRlQ29tbW9uRGIudHNcbmZ1bmN0aW9uIHBvcHVsYXRlQ29tbW9uRGIoYXN0LCBkYikge1xuICBpZiAoYXN0LmFjY0Rlc2NyKSB7XG4gICAgZGIuc2V0QWNjRGVzY3JpcHRpb24/Lihhc3QuYWNjRGVzY3IpO1xuICB9XG4gIGlmIChhc3QuYWNjVGl0bGUpIHtcbiAgICBkYi5zZXRBY2NUaXRsZT8uKGFzdC5hY2NUaXRsZSk7XG4gIH1cbiAgaWYgKGFzdC50aXRsZSkge1xuICAgIGRiLnNldERpYWdyYW1UaXRsZT8uKGFzdC50aXRsZSk7XG4gIH1cbn1cbl9fbmFtZShwb3B1bGF0ZUNvbW1vbkRiLCBcInBvcHVsYXRlQ29tbW9uRGJcIik7XG5cbmV4cG9ydCB7XG4gIHBvcHVsYXRlQ29tbW9uRGJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs\n\n}");

/***/ }),

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs":
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupViewPortForSVG: () => (/* binding */ setupViewPortForSVG)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs\");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs\");\n\n\n\n// src/rendering-util/setupViewPortForSVG.ts\nvar setupViewPortForSVG = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((svg, padding, cssDiagram, useMaxWidth) => {\n  svg.attr(\"class\", cssDiagram);\n  const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.configureSvgSize)(svg, height, width, useMaxWidth);\n  const viewBox = createViewBox(x, y, width, height, padding);\n  svg.attr(\"viewBox\", viewBox);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);\n}, \"setupViewPortForSVG\");\nvar calculateDimensionsWithPadding = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((svg, padding) => {\n  const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };\n  return {\n    width: bounds.width + padding * 2,\n    height: bounds.height + padding * 2,\n    x: bounds.x,\n    y: bounds.y\n  };\n}, \"calculateDimensionsWithPadding\");\nvar createViewBox = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((x, y, width, height, padding) => {\n  return `${x - padding} ${y - padding} ${width} ${height}`;\n}, \"createViewBox\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstUU4zM1BOSEwubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2N1c2F1cnVzLy4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9jaHVua3MvbWVybWFpZC5jb3JlL2NodW5rLVFOMzNQTkhMLm1qcz83NTY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbmZpZ3VyZVN2Z1NpemVcbn0gZnJvbSBcIi4vY2h1bmstQUJaWUpLMkQubWpzXCI7XG5pbXBvcnQge1xuICBfX25hbWUsXG4gIGxvZ1xufSBmcm9tIFwiLi9jaHVuay1BR0hSQjRKRi5tanNcIjtcblxuLy8gc3JjL3JlbmRlcmluZy11dGlsL3NldHVwVmlld1BvcnRGb3JTVkcudHNcbnZhciBzZXR1cFZpZXdQb3J0Rm9yU1ZHID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3ZnLCBwYWRkaW5nLCBjc3NEaWFncmFtLCB1c2VNYXhXaWR0aCkgPT4ge1xuICBzdmcuYXR0cihcImNsYXNzXCIsIGNzc0RpYWdyYW0pO1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHgsIHkgfSA9IGNhbGN1bGF0ZURpbWVuc2lvbnNXaXRoUGFkZGluZyhzdmcsIHBhZGRpbmcpO1xuICBjb25maWd1cmVTdmdTaXplKHN2ZywgaGVpZ2h0LCB3aWR0aCwgdXNlTWF4V2lkdGgpO1xuICBjb25zdCB2aWV3Qm94ID0gY3JlYXRlVmlld0JveCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nKTtcbiAgc3ZnLmF0dHIoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICBsb2cuZGVidWcoYHZpZXdCb3ggY29uZmlndXJlZDogJHt2aWV3Qm94fSB3aXRoIHBhZGRpbmc6ICR7cGFkZGluZ31gKTtcbn0sIFwic2V0dXBWaWV3UG9ydEZvclNWR1wiKTtcbnZhciBjYWxjdWxhdGVEaW1lbnNpb25zV2l0aFBhZGRpbmcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdmcsIHBhZGRpbmcpID0+IHtcbiAgY29uc3QgYm91bmRzID0gc3ZnLm5vZGUoKT8uZ2V0QkJveCgpIHx8IHsgd2lkdGg6IDAsIGhlaWdodDogMCwgeDogMCwgeTogMCB9O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBib3VuZHMud2lkdGggKyBwYWRkaW5nICogMixcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgKyBwYWRkaW5nICogMixcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueVxuICB9O1xufSwgXCJjYWxjdWxhdGVEaW1lbnNpb25zV2l0aFBhZGRpbmdcIik7XG52YXIgY3JlYXRlVmlld0JveCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHgsIHksIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcpID0+IHtcbiAgcmV0dXJuIGAke3ggLSBwYWRkaW5nfSAke3kgLSBwYWRkaW5nfSAke3dpZHRofSAke2hlaWdodH1gO1xufSwgXCJjcmVhdGVWaWV3Qm94XCIpO1xuXG5leHBvcnQge1xuICBzZXR1cFZpZXdQb3J0Rm9yU1ZHXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs\n\n}");

/***/ }),

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/diagram-PSM6KHXK.mjs":
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs\");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs\");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs\");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs\");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs\");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs\");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs\");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/d3/src/index.js\");\n\n\n\n\n\n\n\n\n// src/diagrams/treemap/db.ts\nvar TreeMapDB = class {\n  constructor() {\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccTitle;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getDiagramTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccDescription;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccDescription;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(this, \"TreeMapDB\");\n  }\n  getNodes() {\n    return this.nodes;\n  }\n  getConfig() {\n    const defaultConfig = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.defaultConfig_default;\n    const userConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n    return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.cleanAndMerge)({\n      ...defaultConfig.treemap,\n      ...userConfig.treemap ?? {}\n    });\n  }\n  addNode(node, level) {\n    this.nodes.push(node);\n    this.levels.set(node, level);\n    if (level === 0) {\n      this.outerNodes.push(node);\n      this.root ??= node;\n    }\n  }\n  getRoot() {\n    return { name: \"\", children: this.outerNodes };\n  }\n  addClass(id, _style) {\n    const styleClass = this.classes.get(id) ?? { id, styles: [], textStyles: [] };\n    const styles = _style.replace(/\\\\,/g, \"\\xA7\\xA7\\xA7\").replace(/,/g, \";\").replace(/§§§/g, \",\").split(\";\");\n    if (styles) {\n      styles.forEach((s) => {\n        if ((0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.isLabelStyle)(s)) {\n          if (styleClass?.textStyles) {\n            styleClass.textStyles.push(s);\n          } else {\n            styleClass.textStyles = [s];\n          }\n        }\n        if (styleClass?.styles) {\n          styleClass.styles.push(s);\n        } else {\n          styleClass.styles = [s];\n        }\n      });\n    }\n    this.classes.set(id, styleClass);\n  }\n  getClasses() {\n    return this.classes;\n  }\n  getStylesForClass(classSelector) {\n    return this.classes.get(classSelector)?.styles ?? [];\n  }\n  clear() {\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.clear)();\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.root = void 0;\n  }\n};\n\n// src/diagrams/treemap/parser.ts\n\n\n// src/diagrams/treemap/utils.ts\nfunction buildHierarchy(items) {\n  if (!items.length) {\n    return [];\n  }\n  const root = [];\n  const stack = [];\n  items.forEach((item) => {\n    const node = {\n      name: item.name,\n      children: item.type === \"Leaf\" ? void 0 : []\n    };\n    node.classSelector = item?.classSelector;\n    if (item?.cssCompiledStyles) {\n      node.cssCompiledStyles = [item.cssCompiledStyles];\n    }\n    if (item.type === \"Leaf\" && item.value !== void 0) {\n      node.value = item.value;\n    }\n    while (stack.length > 0 && stack[stack.length - 1].level >= item.level) {\n      stack.pop();\n    }\n    if (stack.length === 0) {\n      root.push(node);\n    } else {\n      const parent = stack[stack.length - 1].node;\n      if (parent.children) {\n        parent.children.push(node);\n      } else {\n        parent.children = [node];\n      }\n    }\n    if (item.type !== \"Leaf\") {\n      stack.push({ node, level: item.level });\n    }\n  });\n  return root;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(buildHierarchy, \"buildHierarchy\");\n\n// src/diagrams/treemap/parser.ts\nvar populate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((ast, db) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_3__.populateCommonDb)(ast, db);\n  const items = [];\n  for (const row of ast.TreemapRows ?? []) {\n    if (row.$type === \"ClassDefStatement\") {\n      db.addClass(row.className ?? \"\", row.styleText ?? \"\");\n    }\n  }\n  for (const row of ast.TreemapRows ?? []) {\n    const item = row.item;\n    if (!item) {\n      continue;\n    }\n    const level = row.indent ? parseInt(row.indent) : 0;\n    const name = getItemName(item);\n    const styles = item.classSelector ? db.getStylesForClass(item.classSelector) : [];\n    const cssCompiledStyles = styles.length > 0 ? styles.join(\";\") : void 0;\n    const itemData = {\n      level,\n      name,\n      type: item.$type,\n      value: item.value,\n      classSelector: item.classSelector,\n      cssCompiledStyles\n    };\n    items.push(itemData);\n  }\n  const hierarchyNodes = buildHierarchy(items);\n  const addNodesRecursively = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((nodes, level) => {\n    for (const node of nodes) {\n      db.addNode(node, level);\n      if (node.children && node.children.length > 0) {\n        addNodesRecursively(node.children, level + 1);\n      }\n    }\n  }, \"addNodesRecursively\");\n  addNodesRecursively(hierarchyNodes, 0);\n}, \"populate\");\nvar getItemName = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((item) => {\n  return item.name ? String(item.name) : \"\";\n}, \"getItemName\");\nvar parser = {\n  // @ts-expect-error - TreeMapDB is not assignable to DiagramDB\n  parser: { yy: void 0 },\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (text) => {\n    try {\n      const parseFunc = _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_7__.parse;\n      const ast = await parseFunc(\"treemap\", text);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\"Treemap AST:\", ast);\n      const db = parser.parser?.yy;\n      if (!(db instanceof TreeMapDB)) {\n        throw new Error(\n          \"parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.\"\n        );\n      }\n      populate(ast, db);\n    } catch (error) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.error(\"Error parsing treemap:\", error);\n      throw error;\n    }\n  }, \"parse\")\n};\n\n// src/diagrams/treemap/renderer.ts\n\nvar DEFAULT_INNER_PADDING = 10;\nvar SECTION_INNER_PADDING = 10;\nvar SECTION_HEADER_HEIGHT = 25;\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((_text, id, _version, diagram2) => {\n  const treemapDb = diagram2.db;\n  const config = treemapDb.getConfig();\n  const treemapInnerPadding = config.padding ?? DEFAULT_INNER_PADDING;\n  const title = treemapDb.getDiagramTitle();\n  const root = treemapDb.getRoot();\n  const { themeVariables } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n  if (!root) {\n    return;\n  }\n  const titleHeight = title ? 30 : 0;\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const width = config.nodeWidth ? config.nodeWidth * SECTION_INNER_PADDING : 960;\n  const height = config.nodeHeight ? config.nodeHeight * SECTION_INNER_PADDING : 500;\n  const svgWidth = width;\n  const svgHeight = height + titleHeight;\n  svg.attr(\"viewBox\", `0 0 ${svgWidth} ${svgHeight}`);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg, svgHeight, svgWidth, config.useMaxWidth);\n  let valueFormat;\n  try {\n    const formatStr = config.valueFormat || \",\";\n    if (formatStr === \"$0,0\") {\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => \"$\" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(\",\")(value), \"valueFormat\");\n    } else if (formatStr.startsWith(\"$\") && formatStr.includes(\",\")) {\n      const precision = /\\.\\d+/.exec(formatStr);\n      const precisionStr = precision ? precision[0] : \"\";\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => \"$\" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(\",\" + precisionStr)(value), \"valueFormat\");\n    } else if (formatStr.startsWith(\"$\")) {\n      const restOfFormat = formatStr.substring(1);\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => \"$\" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(restOfFormat || \"\")(value), \"valueFormat\");\n    } else {\n      valueFormat = (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(formatStr);\n    }\n  } catch (error) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.error(\"Error creating format function:\", error);\n    valueFormat = (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(\",\");\n  }\n  const colorScale = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    \"transparent\",\n    themeVariables.cScale0,\n    themeVariables.cScale1,\n    themeVariables.cScale2,\n    themeVariables.cScale3,\n    themeVariables.cScale4,\n    themeVariables.cScale5,\n    themeVariables.cScale6,\n    themeVariables.cScale7,\n    themeVariables.cScale8,\n    themeVariables.cScale9,\n    themeVariables.cScale10,\n    themeVariables.cScale11\n  ]);\n  const colorScalePeer = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    \"transparent\",\n    themeVariables.cScalePeer0,\n    themeVariables.cScalePeer1,\n    themeVariables.cScalePeer2,\n    themeVariables.cScalePeer3,\n    themeVariables.cScalePeer4,\n    themeVariables.cScalePeer5,\n    themeVariables.cScalePeer6,\n    themeVariables.cScalePeer7,\n    themeVariables.cScalePeer8,\n    themeVariables.cScalePeer9,\n    themeVariables.cScalePeer10,\n    themeVariables.cScalePeer11\n  ]);\n  const colorScaleLabel = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    themeVariables.cScaleLabel0,\n    themeVariables.cScaleLabel1,\n    themeVariables.cScaleLabel2,\n    themeVariables.cScaleLabel3,\n    themeVariables.cScaleLabel4,\n    themeVariables.cScaleLabel5,\n    themeVariables.cScaleLabel6,\n    themeVariables.cScaleLabel7,\n    themeVariables.cScaleLabel8,\n    themeVariables.cScaleLabel9,\n    themeVariables.cScaleLabel10,\n    themeVariables.cScaleLabel11\n  ]);\n  if (title) {\n    svg.append(\"text\").attr(\"x\", svgWidth / 2).attr(\"y\", titleHeight / 2).attr(\"class\", \"treemapTitle\").attr(\"text-anchor\", \"middle\").attr(\"dominant-baseline\", \"middle\").text(title);\n  }\n  const g = svg.append(\"g\").attr(\"transform\", `translate(0, ${titleHeight})`).attr(\"class\", \"treemapContainer\");\n  const hierarchyRoot = (0,d3__WEBPACK_IMPORTED_MODULE_8__.hierarchy)(root).sum((d) => d.value ?? 0).sort((a, b) => (b.value ?? 0) - (a.value ?? 0));\n  const treemapLayout = (0,d3__WEBPACK_IMPORTED_MODULE_8__.treemap)().size([width, height]).paddingTop(\n    (d) => d.children && d.children.length > 0 ? SECTION_HEADER_HEIGHT + SECTION_INNER_PADDING : 0\n  ).paddingInner(treemapInnerPadding).paddingLeft((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingRight((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingBottom((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).round(true);\n  const treemapData = treemapLayout(hierarchyRoot);\n  const branchNodes = treemapData.descendants().filter((d) => d.children && d.children.length > 0);\n  const sections = g.selectAll(\".treemapSection\").data(branchNodes).enter().append(\"g\").attr(\"class\", \"treemapSection\").attr(\"transform\", (d) => `translate(${d.x0},${d.y0})`);\n  sections.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", SECTION_HEADER_HEIGHT).attr(\"class\", \"treemapSectionHeader\").attr(\"fill\", \"none\").attr(\"fill-opacity\", 0.6).attr(\"stroke-width\", 0.6).attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    return \"\";\n  });\n  sections.append(\"clipPath\").attr(\"id\", (_d, i) => `clip-section-${id}-${i}`).append(\"rect\").attr(\"width\", (d) => Math.max(0, d.x1 - d.x0 - 12)).attr(\"height\", SECTION_HEADER_HEIGHT);\n  sections.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", (d) => d.y1 - d.y0).attr(\"class\", (_d, i) => {\n    return `treemapSection section${i}`;\n  }).attr(\"fill\", (d) => colorScale(d.data.name)).attr(\"fill-opacity\", 0.6).attr(\"stroke\", (d) => colorScalePeer(d.data.name)).attr(\"stroke-width\", 2).attr(\"stroke-opacity\", 0.4).attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles + \";\" + styles.borderStyles.join(\";\");\n  });\n  sections.append(\"text\").attr(\"class\", \"treemapSectionLabel\").attr(\"x\", 6).attr(\"y\", SECTION_HEADER_HEIGHT / 2).attr(\"dominant-baseline\", \"middle\").text((d) => d.depth === 0 ? \"\" : d.data.name).attr(\"font-weight\", \"bold\").attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    const labelStyles = \"dominant-baseline: middle; font-size: 12px; fill:\" + colorScaleLabel(d.data.name) + \"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n  }).each(function(d) {\n    if (d.depth === 0) {\n      return;\n    }\n    const self = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n    const originalText = d.data.name;\n    self.text(originalText);\n    const totalHeaderWidth = d.x1 - d.x0;\n    const labelXPosition = 6;\n    let spaceForTextContent;\n    if (config.showValues !== false && d.value) {\n      const valueEndsAtXRelative = totalHeaderWidth - 10;\n      const estimatedValueTextActualWidth = 30;\n      const gapBetweenLabelAndValue = 10;\n      const labelMustEndBeforeX = valueEndsAtXRelative - estimatedValueTextActualWidth - gapBetweenLabelAndValue;\n      spaceForTextContent = labelMustEndBeforeX - labelXPosition;\n    } else {\n      const labelOwnRightPadding = 6;\n      spaceForTextContent = totalHeaderWidth - labelXPosition - labelOwnRightPadding;\n    }\n    const minimumWidthToDisplay = 15;\n    const actualAvailableWidth = Math.max(minimumWidthToDisplay, spaceForTextContent);\n    const textNode = self.node();\n    const currentTextContentLength = textNode.getComputedTextLength();\n    if (currentTextContentLength > actualAvailableWidth) {\n      const ellipsis = \"...\";\n      let currentTruncatedText = originalText;\n      while (currentTruncatedText.length > 0) {\n        currentTruncatedText = originalText.substring(0, currentTruncatedText.length - 1);\n        if (currentTruncatedText.length === 0) {\n          self.text(ellipsis);\n          if (textNode.getComputedTextLength() > actualAvailableWidth) {\n            self.text(\"\");\n          }\n          break;\n        }\n        self.text(currentTruncatedText + ellipsis);\n        if (textNode.getComputedTextLength() <= actualAvailableWidth) {\n          break;\n        }\n      }\n    }\n  });\n  if (config.showValues !== false) {\n    sections.append(\"text\").attr(\"class\", \"treemapSectionValue\").attr(\"x\", (d) => d.x1 - d.x0 - 10).attr(\"y\", SECTION_HEADER_HEIGHT / 2).attr(\"text-anchor\", \"end\").attr(\"dominant-baseline\", \"middle\").text((d) => d.value ? valueFormat(d.value) : \"\").attr(\"font-style\", \"italic\").attr(\"style\", (d) => {\n      if (d.depth === 0) {\n        return \"display: none;\";\n      }\n      const labelStyles = \"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:\" + colorScaleLabel(d.data.name) + \"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";\n      const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n    });\n  }\n  const leafNodes = treemapData.leaves();\n  const cell = g.selectAll(\".treemapLeafGroup\").data(leafNodes).enter().append(\"g\").attr(\"class\", (d, i) => {\n    return `treemapNode treemapLeafGroup leaf${i}${d.data.classSelector ? ` ${d.data.classSelector}` : \"\"}x`;\n  }).attr(\"transform\", (d) => `translate(${d.x0},${d.y0})`);\n  cell.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", (d) => d.y1 - d.y0).attr(\"class\", \"treemapLeaf\").attr(\"fill\", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr(\"style\", (d) => {\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles;\n  }).attr(\"fill-opacity\", 0.3).attr(\"stroke\", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr(\"stroke-width\", 3);\n  cell.append(\"clipPath\").attr(\"id\", (_d, i) => `clip-${id}-${i}`).append(\"rect\").attr(\"width\", (d) => Math.max(0, d.x1 - d.x0 - 4)).attr(\"height\", (d) => Math.max(0, d.y1 - d.y0 - 4));\n  const leafLabels = cell.append(\"text\").attr(\"class\", \"treemapLabel\").attr(\"x\", (d) => (d.x1 - d.x0) / 2).attr(\"y\", (d) => (d.y1 - d.y0) / 2).attr(\"style\", (d) => {\n    const labelStyles = \"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:\" + colorScaleLabel(d.data.name) + \";\";\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n  }).attr(\"clip-path\", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.data.name);\n  leafLabels.each(function(d) {\n    const self = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n    const nodeWidth = d.x1 - d.x0;\n    const nodeHeight = d.y1 - d.y0;\n    const textNode = self.node();\n    const padding = 4;\n    const availableWidth = nodeWidth - 2 * padding;\n    const availableHeight = nodeHeight - 2 * padding;\n    if (availableWidth < 10 || availableHeight < 10) {\n      self.style(\"display\", \"none\");\n      return;\n    }\n    let currentLabelFontSize = parseInt(self.style(\"font-size\"), 10);\n    const minLabelFontSize = 8;\n    const originalValueRelFontSize = 28;\n    const valueScaleFactor = 0.6;\n    const minValueFontSize = 6;\n    const spacingBetweenLabelAndValue = 2;\n    while (textNode.getComputedTextLength() > availableWidth && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      self.style(\"font-size\", `${currentLabelFontSize}px`);\n    }\n    let prospectiveValueFontSize = Math.max(\n      minValueFontSize,\n      Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n    );\n    let combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n    while (combinedHeight > availableHeight && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      prospectiveValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n      );\n      if (prospectiveValueFontSize < minValueFontSize && currentLabelFontSize === minLabelFontSize) {\n        break;\n      }\n      self.style(\"font-size\", `${currentLabelFontSize}px`);\n      combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n      if (prospectiveValueFontSize <= minValueFontSize && combinedHeight > availableHeight) {\n      }\n    }\n    self.style(\"font-size\", `${currentLabelFontSize}px`);\n    if (textNode.getComputedTextLength() > availableWidth || currentLabelFontSize < minLabelFontSize || availableHeight < currentLabelFontSize) {\n      self.style(\"display\", \"none\");\n    }\n  });\n  if (config.showValues !== false) {\n    const leafValues = cell.append(\"text\").attr(\"class\", \"treemapValue\").attr(\"x\", (d) => (d.x1 - d.x0) / 2).attr(\"y\", function(d) {\n      return (d.y1 - d.y0) / 2;\n    }).attr(\"style\", (d) => {\n      const labelStyles = \"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:\" + colorScaleLabel(d.data.name) + \";\";\n      const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n    }).attr(\"clip-path\", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.value ? valueFormat(d.value) : \"\");\n    leafValues.each(function(d) {\n      const valueTextElement = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n      const parentCellNode = this.parentNode;\n      if (!parentCellNode) {\n        valueTextElement.style(\"display\", \"none\");\n        return;\n      }\n      const labelElement = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(parentCellNode).select(\".treemapLabel\");\n      if (labelElement.empty() || labelElement.style(\"display\") === \"none\") {\n        valueTextElement.style(\"display\", \"none\");\n        return;\n      }\n      const finalLabelFontSize = parseFloat(labelElement.style(\"font-size\"));\n      const originalValueFontSize = 28;\n      const valueScaleFactor = 0.6;\n      const minValueFontSize = 6;\n      const spacingBetweenLabelAndValue = 2;\n      const actualValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueFontSize, Math.round(finalLabelFontSize * valueScaleFactor))\n      );\n      valueTextElement.style(\"font-size\", `${actualValueFontSize}px`);\n      const labelCenterY = (d.y1 - d.y0) / 2;\n      const valueTopActualY = labelCenterY + finalLabelFontSize / 2 + spacingBetweenLabelAndValue;\n      valueTextElement.attr(\"y\", valueTopActualY);\n      const nodeWidth = d.x1 - d.x0;\n      const nodeTotalHeight = d.y1 - d.y0;\n      const cellBottomPadding = 4;\n      const maxValueBottomY = nodeTotalHeight - cellBottomPadding;\n      const availableWidthForValue = nodeWidth - 2 * 4;\n      if (valueTextElement.node().getComputedTextLength() > availableWidthForValue || valueTopActualY + actualValueFontSize > maxValueBottomY || actualValueFontSize < minValueFontSize) {\n        valueTextElement.style(\"display\", \"none\");\n      } else {\n        valueTextElement.style(\"display\", null);\n      }\n    });\n  }\n  const diagramPadding = config.diagramPadding ?? 8;\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(svg, diagramPadding, \"flowchart\", config?.useMaxWidth || false);\n}, \"draw\");\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(_text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, \"getClasses\");\nvar renderer = { draw, getClasses };\n\n// src/diagrams/treemap/styles.ts\nvar defaultTreemapStyleOptions = {\n  sectionStrokeColor: \"black\",\n  sectionStrokeWidth: \"1\",\n  sectionFillColor: \"#efefef\",\n  leafStrokeColor: \"black\",\n  leafStrokeWidth: \"1\",\n  leafFillColor: \"#efefef\",\n  labelColor: \"black\",\n  labelFontSize: \"12px\",\n  valueFontSize: \"10px\",\n  valueColor: \"black\",\n  titleColor: \"black\",\n  titleFontSize: \"14px\"\n};\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(({\n  treemap: treemap2\n} = {}) => {\n  const options = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.cleanAndMerge)(defaultTreemapStyleOptions, treemap2);\n  return `\n  .treemapNode.section {\n    stroke: ${options.sectionStrokeColor};\n    stroke-width: ${options.sectionStrokeWidth};\n    fill: ${options.sectionFillColor};\n  }\n  .treemapNode.leaf {\n    stroke: ${options.leafStrokeColor};\n    stroke-width: ${options.leafStrokeWidth};\n    fill: ${options.leafFillColor};\n  }\n  .treemapLabel {\n    fill: ${options.labelColor};\n    font-size: ${options.labelFontSize};\n  }\n  .treemapValue {\n    fill: ${options.valueColor};\n    font-size: ${options.valueFontSize};\n  }\n  .treemapTitle {\n    fill: ${options.titleColor};\n    font-size: ${options.titleFontSize};\n  }\n  `;\n}, \"getStyles\");\nvar styles_default = getStyles;\n\n// src/diagrams/treemap/diagram.ts\nvar diagram = {\n  parser,\n  get db() {\n    return new TreeMapDB();\n  },\n  renderer,\n  styles: styles_default\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvZGlhZ3JhbS1QU002S0hYSy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUVBO0FBR0E7QUFJQTtBQUdBO0FBR0E7QUFZQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY3VzYXVydXMvLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvZGlhZ3JhbS1QU002S0hYSy5tanM/MTRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBzZWxlY3RTdmdFbGVtZW50XG59IGZyb20gXCIuL2NodW5rLUVYVFU0V0lFLm1qc1wiO1xuaW1wb3J0IHtcbiAgc2V0dXBWaWV3UG9ydEZvclNWR1xufSBmcm9tIFwiLi9jaHVuay1RTjMzUE5ITC5tanNcIjtcbmltcG9ydCB7XG4gIGlzTGFiZWxTdHlsZSxcbiAgc3R5bGVzMlN0cmluZ1xufSBmcm9tIFwiLi9jaHVuay1BVExWTklSNi5tanNcIjtcbmltcG9ydCB7XG4gIHBvcHVsYXRlQ29tbW9uRGJcbn0gZnJvbSBcIi4vY2h1bmstNEJYMlZVQUIubWpzXCI7XG5pbXBvcnQge1xuICBjbGVhbkFuZE1lcmdlXG59IGZyb20gXCIuL2NodW5rLVMzUjNCWU9KLm1qc1wiO1xuaW1wb3J0IHtcbiAgY2xlYXIsXG4gIGNvbmZpZ3VyZVN2Z1NpemUsXG4gIGRlZmF1bHRDb25maWdfZGVmYXVsdCxcbiAgZ2V0QWNjRGVzY3JpcHRpb24sXG4gIGdldEFjY1RpdGxlLFxuICBnZXRDb25maWcsXG4gIGdldERpYWdyYW1UaXRsZSxcbiAgc2V0QWNjRGVzY3JpcHRpb24sXG4gIHNldEFjY1RpdGxlLFxuICBzZXREaWFncmFtVGl0bGVcbn0gZnJvbSBcIi4vY2h1bmstQUJaWUpLMkQubWpzXCI7XG5pbXBvcnQge1xuICBfX25hbWUsXG4gIGxvZ1xufSBmcm9tIFwiLi9jaHVuay1BR0hSQjRKRi5tanNcIjtcblxuLy8gc3JjL2RpYWdyYW1zL3RyZWVtYXAvZGIudHNcbnZhciBUcmVlTWFwREIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICB0aGlzLmxldmVscyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5vdXRlck5vZGVzID0gW107XG4gICAgdGhpcy5jbGFzc2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnNldEFjY1RpdGxlID0gc2V0QWNjVGl0bGU7XG4gICAgdGhpcy5nZXRBY2NUaXRsZSA9IGdldEFjY1RpdGxlO1xuICAgIHRoaXMuc2V0RGlhZ3JhbVRpdGxlID0gc2V0RGlhZ3JhbVRpdGxlO1xuICAgIHRoaXMuZ2V0RGlhZ3JhbVRpdGxlID0gZ2V0RGlhZ3JhbVRpdGxlO1xuICAgIHRoaXMuZ2V0QWNjRGVzY3JpcHRpb24gPSBnZXRBY2NEZXNjcmlwdGlvbjtcbiAgICB0aGlzLnNldEFjY0Rlc2NyaXB0aW9uID0gc2V0QWNjRGVzY3JpcHRpb247XG4gIH1cbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJUcmVlTWFwREJcIik7XG4gIH1cbiAgZ2V0Tm9kZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXM7XG4gIH1cbiAgZ2V0Q29uZmlnKCkge1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnX2RlZmF1bHQ7XG4gICAgY29uc3QgdXNlckNvbmZpZyA9IGdldENvbmZpZygpO1xuICAgIHJldHVybiBjbGVhbkFuZE1lcmdlKHtcbiAgICAgIC4uLmRlZmF1bHRDb25maWcudHJlZW1hcCxcbiAgICAgIC4uLnVzZXJDb25maWcudHJlZW1hcCA/PyB7fVxuICAgIH0pO1xuICB9XG4gIGFkZE5vZGUobm9kZSwgbGV2ZWwpIHtcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgdGhpcy5sZXZlbHMuc2V0KG5vZGUsIGxldmVsKTtcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcbiAgICAgIHRoaXMub3V0ZXJOb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgdGhpcy5yb290ID8/PSBub2RlO1xuICAgIH1cbiAgfVxuICBnZXRSb290KCkge1xuICAgIHJldHVybiB7IG5hbWU6IFwiXCIsIGNoaWxkcmVuOiB0aGlzLm91dGVyTm9kZXMgfTtcbiAgfVxuICBhZGRDbGFzcyhpZCwgX3N0eWxlKSB7XG4gICAgY29uc3Qgc3R5bGVDbGFzcyA9IHRoaXMuY2xhc3Nlcy5nZXQoaWQpID8/IHsgaWQsIHN0eWxlczogW10sIHRleHRTdHlsZXM6IFtdIH07XG4gICAgY29uc3Qgc3R5bGVzID0gX3N0eWxlLnJlcGxhY2UoL1xcXFwsL2csIFwiXFx4QTdcXHhBN1xceEE3XCIpLnJlcGxhY2UoLywvZywgXCI7XCIpLnJlcGxhY2UoL8KnwqfCpy9nLCBcIixcIikuc3BsaXQoXCI7XCIpO1xuICAgIGlmIChzdHlsZXMpIHtcbiAgICAgIHN0eWxlcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIGlmIChpc0xhYmVsU3R5bGUocykpIHtcbiAgICAgICAgICBpZiAoc3R5bGVDbGFzcz8udGV4dFN0eWxlcykge1xuICAgICAgICAgICAgc3R5bGVDbGFzcy50ZXh0U3R5bGVzLnB1c2gocyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlQ2xhc3MudGV4dFN0eWxlcyA9IFtzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQ2xhc3M/LnN0eWxlcykge1xuICAgICAgICAgIHN0eWxlQ2xhc3Muc3R5bGVzLnB1c2gocyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGVDbGFzcy5zdHlsZXMgPSBbc107XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmNsYXNzZXMuc2V0KGlkLCBzdHlsZUNsYXNzKTtcbiAgfVxuICBnZXRDbGFzc2VzKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzZXM7XG4gIH1cbiAgZ2V0U3R5bGVzRm9yQ2xhc3MoY2xhc3NTZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLmNsYXNzZXMuZ2V0KGNsYXNzU2VsZWN0b3IpPy5zdHlsZXMgPz8gW107XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgY2xlYXIoKTtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5sZXZlbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMub3V0ZXJOb2RlcyA9IFtdO1xuICAgIHRoaXMuY2xhc3NlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5yb290ID0gdm9pZCAwO1xuICB9XG59O1xuXG4vLyBzcmMvZGlhZ3JhbXMvdHJlZW1hcC9wYXJzZXIudHNcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIkBtZXJtYWlkLWpzL3BhcnNlclwiO1xuXG4vLyBzcmMvZGlhZ3JhbXMvdHJlZW1hcC91dGlscy50c1xuZnVuY3Rpb24gYnVpbGRIaWVyYXJjaHkoaXRlbXMpIHtcbiAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3Qgcm9vdCA9IFtdO1xuICBjb25zdCBzdGFjayA9IFtdO1xuICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgIGNoaWxkcmVuOiBpdGVtLnR5cGUgPT09IFwiTGVhZlwiID8gdm9pZCAwIDogW11cbiAgICB9O1xuICAgIG5vZGUuY2xhc3NTZWxlY3RvciA9IGl0ZW0/LmNsYXNzU2VsZWN0b3I7XG4gICAgaWYgKGl0ZW0/LmNzc0NvbXBpbGVkU3R5bGVzKSB7XG4gICAgICBub2RlLmNzc0NvbXBpbGVkU3R5bGVzID0gW2l0ZW0uY3NzQ29tcGlsZWRTdHlsZXNdO1xuICAgIH1cbiAgICBpZiAoaXRlbS50eXBlID09PSBcIkxlYWZcIiAmJiBpdGVtLnZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIG5vZGUudmFsdWUgPSBpdGVtLnZhbHVlO1xuICAgIH1cbiAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCAmJiBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5sZXZlbCA+PSBpdGVtLmxldmVsKSB7XG4gICAgICBzdGFjay5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcm9vdC5wdXNoKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5ub2RlO1xuICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbikge1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5jaGlsZHJlbiA9IFtub2RlXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW0udHlwZSAhPT0gXCJMZWFmXCIpIHtcbiAgICAgIHN0YWNrLnB1c2goeyBub2RlLCBsZXZlbDogaXRlbS5sZXZlbCB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm9vdDtcbn1cbl9fbmFtZShidWlsZEhpZXJhcmNoeSwgXCJidWlsZEhpZXJhcmNoeVwiKTtcblxuLy8gc3JjL2RpYWdyYW1zL3RyZWVtYXAvcGFyc2VyLnRzXG52YXIgcG9wdWxhdGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3QsIGRiKSA9PiB7XG4gIHBvcHVsYXRlQ29tbW9uRGIoYXN0LCBkYik7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGZvciAoY29uc3Qgcm93IG9mIGFzdC5UcmVlbWFwUm93cyA/PyBbXSkge1xuICAgIGlmIChyb3cuJHR5cGUgPT09IFwiQ2xhc3NEZWZTdGF0ZW1lbnRcIikge1xuICAgICAgZGIuYWRkQ2xhc3Mocm93LmNsYXNzTmFtZSA/PyBcIlwiLCByb3cuc3R5bGVUZXh0ID8/IFwiXCIpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHJvdyBvZiBhc3QuVHJlZW1hcFJvd3MgPz8gW10pIHtcbiAgICBjb25zdCBpdGVtID0gcm93Lml0ZW07XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbGV2ZWwgPSByb3cuaW5kZW50ID8gcGFyc2VJbnQocm93LmluZGVudCkgOiAwO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtTmFtZShpdGVtKTtcbiAgICBjb25zdCBzdHlsZXMgPSBpdGVtLmNsYXNzU2VsZWN0b3IgPyBkYi5nZXRTdHlsZXNGb3JDbGFzcyhpdGVtLmNsYXNzU2VsZWN0b3IpIDogW107XG4gICAgY29uc3QgY3NzQ29tcGlsZWRTdHlsZXMgPSBzdHlsZXMubGVuZ3RoID4gMCA/IHN0eWxlcy5qb2luKFwiO1wiKSA6IHZvaWQgMDtcbiAgICBjb25zdCBpdGVtRGF0YSA9IHtcbiAgICAgIGxldmVsLFxuICAgICAgbmFtZSxcbiAgICAgIHR5cGU6IGl0ZW0uJHR5cGUsXG4gICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgIGNsYXNzU2VsZWN0b3I6IGl0ZW0uY2xhc3NTZWxlY3RvcixcbiAgICAgIGNzc0NvbXBpbGVkU3R5bGVzXG4gICAgfTtcbiAgICBpdGVtcy5wdXNoKGl0ZW1EYXRhKTtcbiAgfVxuICBjb25zdCBoaWVyYXJjaHlOb2RlcyA9IGJ1aWxkSGllcmFyY2h5KGl0ZW1zKTtcbiAgY29uc3QgYWRkTm9kZXNSZWN1cnNpdmVseSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5vZGVzLCBsZXZlbCkgPT4ge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgZGIuYWRkTm9kZShub2RlLCBsZXZlbCk7XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWRkTm9kZXNSZWN1cnNpdmVseShub2RlLmNoaWxkcmVuLCBsZXZlbCArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgXCJhZGROb2Rlc1JlY3Vyc2l2ZWx5XCIpO1xuICBhZGROb2Rlc1JlY3Vyc2l2ZWx5KGhpZXJhcmNoeU5vZGVzLCAwKTtcbn0sIFwicG9wdWxhdGVcIik7XG52YXIgZ2V0SXRlbU5hbWUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpdGVtKSA9PiB7XG4gIHJldHVybiBpdGVtLm5hbWUgPyBTdHJpbmcoaXRlbS5uYW1lKSA6IFwiXCI7XG59LCBcImdldEl0ZW1OYW1lXCIpO1xudmFyIHBhcnNlciA9IHtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRyZWVNYXBEQiBpcyBub3QgYXNzaWduYWJsZSB0byBEaWFncmFtREJcbiAgcGFyc2VyOiB7IHl5OiB2b2lkIDAgfSxcbiAgcGFyc2U6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHRleHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VGdW5jID0gcGFyc2U7XG4gICAgICBjb25zdCBhc3QgPSBhd2FpdCBwYXJzZUZ1bmMoXCJ0cmVlbWFwXCIsIHRleHQpO1xuICAgICAgbG9nLmRlYnVnKFwiVHJlZW1hcCBBU1Q6XCIsIGFzdCk7XG4gICAgICBjb25zdCBkYiA9IHBhcnNlci5wYXJzZXI/Lnl5O1xuICAgICAgaWYgKCEoZGIgaW5zdGFuY2VvZiBUcmVlTWFwREIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInBhcnNlci5wYXJzZXI/Lnl5IHdhcyBub3QgYSBUcmVlbWFwREIuIFRoaXMgaXMgZHVlIHRvIGEgYnVnIHdpdGhpbiBNZXJtYWlkLCBwbGVhc2UgcmVwb3J0IHRoaXMgaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL21lcm1haWQtanMvbWVybWFpZC9pc3N1ZXMuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlKGFzdCwgZGIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2cuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHRyZWVtYXA6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSwgXCJwYXJzZVwiKVxufTtcblxuLy8gc3JjL2RpYWdyYW1zL3RyZWVtYXAvcmVuZGVyZXIudHNcbmltcG9ydCB7IHNjYWxlT3JkaW5hbCwgdHJlZW1hcCwgaGllcmFyY2h5LCBmb3JtYXQsIHNlbGVjdCB9IGZyb20gXCJkM1wiO1xudmFyIERFRkFVTFRfSU5ORVJfUEFERElORyA9IDEwO1xudmFyIFNFQ1RJT05fSU5ORVJfUEFERElORyA9IDEwO1xudmFyIFNFQ1RJT05fSEVBREVSX0hFSUdIVCA9IDI1O1xudmFyIGRyYXcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChfdGV4dCwgaWQsIF92ZXJzaW9uLCBkaWFncmFtMikgPT4ge1xuICBjb25zdCB0cmVlbWFwRGIgPSBkaWFncmFtMi5kYjtcbiAgY29uc3QgY29uZmlnID0gdHJlZW1hcERiLmdldENvbmZpZygpO1xuICBjb25zdCB0cmVlbWFwSW5uZXJQYWRkaW5nID0gY29uZmlnLnBhZGRpbmcgPz8gREVGQVVMVF9JTk5FUl9QQURESU5HO1xuICBjb25zdCB0aXRsZSA9IHRyZWVtYXBEYi5nZXREaWFncmFtVGl0bGUoKTtcbiAgY29uc3Qgcm9vdCA9IHRyZWVtYXBEYi5nZXRSb290KCk7XG4gIGNvbnN0IHsgdGhlbWVWYXJpYWJsZXMgfSA9IGdldENvbmZpZygpO1xuICBpZiAoIXJvb3QpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGl0bGVIZWlnaHQgPSB0aXRsZSA/IDMwIDogMDtcbiAgY29uc3Qgc3ZnID0gc2VsZWN0U3ZnRWxlbWVudChpZCk7XG4gIGNvbnN0IHdpZHRoID0gY29uZmlnLm5vZGVXaWR0aCA/IGNvbmZpZy5ub2RlV2lkdGggKiBTRUNUSU9OX0lOTkVSX1BBRERJTkcgOiA5NjA7XG4gIGNvbnN0IGhlaWdodCA9IGNvbmZpZy5ub2RlSGVpZ2h0ID8gY29uZmlnLm5vZGVIZWlnaHQgKiBTRUNUSU9OX0lOTkVSX1BBRERJTkcgOiA1MDA7XG4gIGNvbnN0IHN2Z1dpZHRoID0gd2lkdGg7XG4gIGNvbnN0IHN2Z0hlaWdodCA9IGhlaWdodCArIHRpdGxlSGVpZ2h0O1xuICBzdmcuYXR0cihcInZpZXdCb3hcIiwgYDAgMCAke3N2Z1dpZHRofSAke3N2Z0hlaWdodH1gKTtcbiAgY29uZmlndXJlU3ZnU2l6ZShzdmcsIHN2Z0hlaWdodCwgc3ZnV2lkdGgsIGNvbmZpZy51c2VNYXhXaWR0aCk7XG4gIGxldCB2YWx1ZUZvcm1hdDtcbiAgdHJ5IHtcbiAgICBjb25zdCBmb3JtYXRTdHIgPSBjb25maWcudmFsdWVGb3JtYXQgfHwgXCIsXCI7XG4gICAgaWYgKGZvcm1hdFN0ciA9PT0gXCIkMCwwXCIpIHtcbiAgICAgIHZhbHVlRm9ybWF0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgodmFsdWUpID0+IFwiJFwiICsgZm9ybWF0KFwiLFwiKSh2YWx1ZSksIFwidmFsdWVGb3JtYXRcIik7XG4gICAgfSBlbHNlIGlmIChmb3JtYXRTdHIuc3RhcnRzV2l0aChcIiRcIikgJiYgZm9ybWF0U3RyLmluY2x1ZGVzKFwiLFwiKSkge1xuICAgICAgY29uc3QgcHJlY2lzaW9uID0gL1xcLlxcZCsvLmV4ZWMoZm9ybWF0U3RyKTtcbiAgICAgIGNvbnN0IHByZWNpc2lvblN0ciA9IHByZWNpc2lvbiA/IHByZWNpc2lvblswXSA6IFwiXCI7XG4gICAgICB2YWx1ZUZvcm1hdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHZhbHVlKSA9PiBcIiRcIiArIGZvcm1hdChcIixcIiArIHByZWNpc2lvblN0cikodmFsdWUpLCBcInZhbHVlRm9ybWF0XCIpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0U3RyLnN0YXJ0c1dpdGgoXCIkXCIpKSB7XG4gICAgICBjb25zdCByZXN0T2ZGb3JtYXQgPSBmb3JtYXRTdHIuc3Vic3RyaW5nKDEpO1xuICAgICAgdmFsdWVGb3JtYXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCh2YWx1ZSkgPT4gXCIkXCIgKyBmb3JtYXQocmVzdE9mRm9ybWF0IHx8IFwiXCIpKHZhbHVlKSwgXCJ2YWx1ZUZvcm1hdFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVGb3JtYXQgPSBmb3JtYXQoZm9ybWF0U3RyKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZm9ybWF0IGZ1bmN0aW9uOlwiLCBlcnJvcik7XG4gICAgdmFsdWVGb3JtYXQgPSBmb3JtYXQoXCIsXCIpO1xuICB9XG4gIGNvbnN0IGNvbG9yU2NhbGUgPSBzY2FsZU9yZGluYWwoKS5yYW5nZShbXG4gICAgXCJ0cmFuc3BhcmVudFwiLFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZTAsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlMSxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGUyLFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZTMsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlNCxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGU1LFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZTYsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlNyxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGU4LFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZTksXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlMTAsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlMTFcbiAgXSk7XG4gIGNvbnN0IGNvbG9yU2NhbGVQZWVyID0gc2NhbGVPcmRpbmFsKCkucmFuZ2UoW1xuICAgIFwidHJhbnNwYXJlbnRcIixcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyMCxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyMSxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyMixcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyMyxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyNCxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyNSxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyNixcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyNyxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyOCxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyOSxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVQZWVyMTAsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlUGVlcjExXG4gIF0pO1xuICBjb25zdCBjb2xvclNjYWxlTGFiZWwgPSBzY2FsZU9yZGluYWwoKS5yYW5nZShbXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlTGFiZWwwLFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZUxhYmVsMSxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVMYWJlbDIsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlTGFiZWwzLFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZUxhYmVsNCxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVMYWJlbDUsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlTGFiZWw2LFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZUxhYmVsNyxcbiAgICB0aGVtZVZhcmlhYmxlcy5jU2NhbGVMYWJlbDgsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlTGFiZWw5LFxuICAgIHRoZW1lVmFyaWFibGVzLmNTY2FsZUxhYmVsMTAsXG4gICAgdGhlbWVWYXJpYWJsZXMuY1NjYWxlTGFiZWwxMVxuICBdKTtcbiAgaWYgKHRpdGxlKSB7XG4gICAgc3ZnLmFwcGVuZChcInRleHRcIikuYXR0cihcInhcIiwgc3ZnV2lkdGggLyAyKS5hdHRyKFwieVwiLCB0aXRsZUhlaWdodCAvIDIpLmF0dHIoXCJjbGFzc1wiLCBcInRyZWVtYXBUaXRsZVwiKS5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikuYXR0cihcImRvbWluYW50LWJhc2VsaW5lXCIsIFwibWlkZGxlXCIpLnRleHQodGl0bGUpO1xuICB9XG4gIGNvbnN0IGcgPSBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoMCwgJHt0aXRsZUhlaWdodH0pYCkuYXR0cihcImNsYXNzXCIsIFwidHJlZW1hcENvbnRhaW5lclwiKTtcbiAgY29uc3QgaGllcmFyY2h5Um9vdCA9IGhpZXJhcmNoeShyb290KS5zdW0oKGQpID0+IGQudmFsdWUgPz8gMCkuc29ydCgoYSwgYikgPT4gKGIudmFsdWUgPz8gMCkgLSAoYS52YWx1ZSA/PyAwKSk7XG4gIGNvbnN0IHRyZWVtYXBMYXlvdXQgPSB0cmVlbWFwKCkuc2l6ZShbd2lkdGgsIGhlaWdodF0pLnBhZGRpbmdUb3AoXG4gICAgKGQpID0+IGQuY2hpbGRyZW4gJiYgZC5jaGlsZHJlbi5sZW5ndGggPiAwID8gU0VDVElPTl9IRUFERVJfSEVJR0hUICsgU0VDVElPTl9JTk5FUl9QQURESU5HIDogMFxuICApLnBhZGRpbmdJbm5lcih0cmVlbWFwSW5uZXJQYWRkaW5nKS5wYWRkaW5nTGVmdCgoZCkgPT4gZC5jaGlsZHJlbiAmJiBkLmNoaWxkcmVuLmxlbmd0aCA+IDAgPyBTRUNUSU9OX0lOTkVSX1BBRERJTkcgOiAwKS5wYWRkaW5nUmlnaHQoKGQpID0+IGQuY2hpbGRyZW4gJiYgZC5jaGlsZHJlbi5sZW5ndGggPiAwID8gU0VDVElPTl9JTk5FUl9QQURESU5HIDogMCkucGFkZGluZ0JvdHRvbSgoZCkgPT4gZC5jaGlsZHJlbiAmJiBkLmNoaWxkcmVuLmxlbmd0aCA+IDAgPyBTRUNUSU9OX0lOTkVSX1BBRERJTkcgOiAwKS5yb3VuZCh0cnVlKTtcbiAgY29uc3QgdHJlZW1hcERhdGEgPSB0cmVlbWFwTGF5b3V0KGhpZXJhcmNoeVJvb3QpO1xuICBjb25zdCBicmFuY2hOb2RlcyA9IHRyZWVtYXBEYXRhLmRlc2NlbmRhbnRzKCkuZmlsdGVyKChkKSA9PiBkLmNoaWxkcmVuICYmIGQuY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gIGNvbnN0IHNlY3Rpb25zID0gZy5zZWxlY3RBbGwoXCIudHJlZW1hcFNlY3Rpb25cIikuZGF0YShicmFuY2hOb2RlcykuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInRyZWVtYXBTZWN0aW9uXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQpID0+IGB0cmFuc2xhdGUoJHtkLngwfSwke2QueTB9KWApO1xuICBzZWN0aW9ucy5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4gZC54MSAtIGQueDApLmF0dHIoXCJoZWlnaHRcIiwgU0VDVElPTl9IRUFERVJfSEVJR0hUKS5hdHRyKFwiY2xhc3NcIiwgXCJ0cmVlbWFwU2VjdGlvbkhlYWRlclwiKS5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIikuYXR0cihcImZpbGwtb3BhY2l0eVwiLCAwLjYpLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMC42KS5hdHRyKFwic3R5bGVcIiwgKGQpID0+IHtcbiAgICBpZiAoZC5kZXB0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiZGlzcGxheTogbm9uZTtcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0pO1xuICBzZWN0aW9ucy5hcHBlbmQoXCJjbGlwUGF0aFwiKS5hdHRyKFwiaWRcIiwgKF9kLCBpKSA9PiBgY2xpcC1zZWN0aW9uLSR7aWR9LSR7aX1gKS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4gTWF0aC5tYXgoMCwgZC54MSAtIGQueDAgLSAxMikpLmF0dHIoXCJoZWlnaHRcIiwgU0VDVElPTl9IRUFERVJfSEVJR0hUKTtcbiAgc2VjdGlvbnMuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwid2lkdGhcIiwgKGQpID0+IGQueDEgLSBkLngwKS5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiBkLnkxIC0gZC55MCkuYXR0cihcImNsYXNzXCIsIChfZCwgaSkgPT4ge1xuICAgIHJldHVybiBgdHJlZW1hcFNlY3Rpb24gc2VjdGlvbiR7aX1gO1xuICB9KS5hdHRyKFwiZmlsbFwiLCAoZCkgPT4gY29sb3JTY2FsZShkLmRhdGEubmFtZSkpLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgMC42KS5hdHRyKFwic3Ryb2tlXCIsIChkKSA9PiBjb2xvclNjYWxlUGVlcihkLmRhdGEubmFtZSkpLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMikuYXR0cihcInN0cm9rZS1vcGFjaXR5XCIsIDAuNCkuYXR0cihcInN0eWxlXCIsIChkKSA9PiB7XG4gICAgaWYgKGQuZGVwdGggPT09IDApIHtcbiAgICAgIHJldHVybiBcImRpc3BsYXk6IG5vbmU7XCI7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlczJTdHJpbmcoeyBjc3NDb21waWxlZFN0eWxlczogZC5kYXRhLmNzc0NvbXBpbGVkU3R5bGVzIH0pO1xuICAgIHJldHVybiBzdHlsZXMubm9kZVN0eWxlcyArIFwiO1wiICsgc3R5bGVzLmJvcmRlclN0eWxlcy5qb2luKFwiO1wiKTtcbiAgfSk7XG4gIHNlY3Rpb25zLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsIFwidHJlZW1hcFNlY3Rpb25MYWJlbFwiKS5hdHRyKFwieFwiLCA2KS5hdHRyKFwieVwiLCBTRUNUSU9OX0hFQURFUl9IRUlHSFQgLyAyKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJtaWRkbGVcIikudGV4dCgoZCkgPT4gZC5kZXB0aCA9PT0gMCA/IFwiXCIgOiBkLmRhdGEubmFtZSkuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKS5hdHRyKFwic3R5bGVcIiwgKGQpID0+IHtcbiAgICBpZiAoZC5kZXB0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiZGlzcGxheTogbm9uZTtcIjtcbiAgICB9XG4gICAgY29uc3QgbGFiZWxTdHlsZXMgPSBcImRvbWluYW50LWJhc2VsaW5lOiBtaWRkbGU7IGZvbnQtc2l6ZTogMTJweDsgZmlsbDpcIiArIGNvbG9yU2NhbGVMYWJlbChkLmRhdGEubmFtZSkgKyBcIjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XCI7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVzMlN0cmluZyh7IGNzc0NvbXBpbGVkU3R5bGVzOiBkLmRhdGEuY3NzQ29tcGlsZWRTdHlsZXMgfSk7XG4gICAgcmV0dXJuIGxhYmVsU3R5bGVzICsgc3R5bGVzLmxhYmVsU3R5bGVzLnJlcGxhY2UoXCJjb2xvcjpcIiwgXCJmaWxsOlwiKTtcbiAgfSkuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgaWYgKGQuZGVwdGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHNlbGVjdCh0aGlzKTtcbiAgICBjb25zdCBvcmlnaW5hbFRleHQgPSBkLmRhdGEubmFtZTtcbiAgICBzZWxmLnRleHQob3JpZ2luYWxUZXh0KTtcbiAgICBjb25zdCB0b3RhbEhlYWRlcldpZHRoID0gZC54MSAtIGQueDA7XG4gICAgY29uc3QgbGFiZWxYUG9zaXRpb24gPSA2O1xuICAgIGxldCBzcGFjZUZvclRleHRDb250ZW50O1xuICAgIGlmIChjb25maWcuc2hvd1ZhbHVlcyAhPT0gZmFsc2UgJiYgZC52YWx1ZSkge1xuICAgICAgY29uc3QgdmFsdWVFbmRzQXRYUmVsYXRpdmUgPSB0b3RhbEhlYWRlcldpZHRoIC0gMTA7XG4gICAgICBjb25zdCBlc3RpbWF0ZWRWYWx1ZVRleHRBY3R1YWxXaWR0aCA9IDMwO1xuICAgICAgY29uc3QgZ2FwQmV0d2VlbkxhYmVsQW5kVmFsdWUgPSAxMDtcbiAgICAgIGNvbnN0IGxhYmVsTXVzdEVuZEJlZm9yZVggPSB2YWx1ZUVuZHNBdFhSZWxhdGl2ZSAtIGVzdGltYXRlZFZhbHVlVGV4dEFjdHVhbFdpZHRoIC0gZ2FwQmV0d2VlbkxhYmVsQW5kVmFsdWU7XG4gICAgICBzcGFjZUZvclRleHRDb250ZW50ID0gbGFiZWxNdXN0RW5kQmVmb3JlWCAtIGxhYmVsWFBvc2l0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsYWJlbE93blJpZ2h0UGFkZGluZyA9IDY7XG4gICAgICBzcGFjZUZvclRleHRDb250ZW50ID0gdG90YWxIZWFkZXJXaWR0aCAtIGxhYmVsWFBvc2l0aW9uIC0gbGFiZWxPd25SaWdodFBhZGRpbmc7XG4gICAgfVxuICAgIGNvbnN0IG1pbmltdW1XaWR0aFRvRGlzcGxheSA9IDE1O1xuICAgIGNvbnN0IGFjdHVhbEF2YWlsYWJsZVdpZHRoID0gTWF0aC5tYXgobWluaW11bVdpZHRoVG9EaXNwbGF5LCBzcGFjZUZvclRleHRDb250ZW50KTtcbiAgICBjb25zdCB0ZXh0Tm9kZSA9IHNlbGYubm9kZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRUZXh0Q29udGVudExlbmd0aCA9IHRleHROb2RlLmdldENvbXB1dGVkVGV4dExlbmd0aCgpO1xuICAgIGlmIChjdXJyZW50VGV4dENvbnRlbnRMZW5ndGggPiBhY3R1YWxBdmFpbGFibGVXaWR0aCkge1xuICAgICAgY29uc3QgZWxsaXBzaXMgPSBcIi4uLlwiO1xuICAgICAgbGV0IGN1cnJlbnRUcnVuY2F0ZWRUZXh0ID0gb3JpZ2luYWxUZXh0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUcnVuY2F0ZWRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY3VycmVudFRydW5jYXRlZFRleHQgPSBvcmlnaW5hbFRleHQuc3Vic3RyaW5nKDAsIGN1cnJlbnRUcnVuY2F0ZWRUZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAoY3VycmVudFRydW5jYXRlZFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2VsZi50ZXh0KGVsbGlwc2lzKTtcbiAgICAgICAgICBpZiAodGV4dE5vZGUuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgPiBhY3R1YWxBdmFpbGFibGVXaWR0aCkge1xuICAgICAgICAgICAgc2VsZi50ZXh0KFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnRleHQoY3VycmVudFRydW5jYXRlZFRleHQgKyBlbGxpcHNpcyk7XG4gICAgICAgIGlmICh0ZXh0Tm9kZS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA8PSBhY3R1YWxBdmFpbGFibGVXaWR0aCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKGNvbmZpZy5zaG93VmFsdWVzICE9PSBmYWxzZSkge1xuICAgIHNlY3Rpb25zLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsIFwidHJlZW1hcFNlY3Rpb25WYWx1ZVwiKS5hdHRyKFwieFwiLCAoZCkgPT4gZC54MSAtIGQueDAgLSAxMCkuYXR0cihcInlcIiwgU0VDVElPTl9IRUFERVJfSEVJR0hUIC8gMikuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpLmF0dHIoXCJkb21pbmFudC1iYXNlbGluZVwiLCBcIm1pZGRsZVwiKS50ZXh0KChkKSA9PiBkLnZhbHVlID8gdmFsdWVGb3JtYXQoZC52YWx1ZSkgOiBcIlwiKS5hdHRyKFwiZm9udC1zdHlsZVwiLCBcIml0YWxpY1wiKS5hdHRyKFwic3R5bGVcIiwgKGQpID0+IHtcbiAgICAgIGlmIChkLmRlcHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBcImRpc3BsYXk6IG5vbmU7XCI7XG4gICAgICB9XG4gICAgICBjb25zdCBsYWJlbFN0eWxlcyA9IFwidGV4dC1hbmNob3I6IGVuZDsgZG9taW5hbnQtYmFzZWxpbmU6IG1pZGRsZTsgZm9udC1zaXplOiAxMHB4OyBmaWxsOlwiICsgY29sb3JTY2FsZUxhYmVsKGQuZGF0YS5uYW1lKSArIFwiOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcIjtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlczJTdHJpbmcoeyBjc3NDb21waWxlZFN0eWxlczogZC5kYXRhLmNzc0NvbXBpbGVkU3R5bGVzIH0pO1xuICAgICAgcmV0dXJuIGxhYmVsU3R5bGVzICsgc3R5bGVzLmxhYmVsU3R5bGVzLnJlcGxhY2UoXCJjb2xvcjpcIiwgXCJmaWxsOlwiKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBsZWFmTm9kZXMgPSB0cmVlbWFwRGF0YS5sZWF2ZXMoKTtcbiAgY29uc3QgY2VsbCA9IGcuc2VsZWN0QWxsKFwiLnRyZWVtYXBMZWFmR3JvdXBcIikuZGF0YShsZWFmTm9kZXMpLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgKGQsIGkpID0+IHtcbiAgICByZXR1cm4gYHRyZWVtYXBOb2RlIHRyZWVtYXBMZWFmR3JvdXAgbGVhZiR7aX0ke2QuZGF0YS5jbGFzc1NlbGVjdG9yID8gYCAke2QuZGF0YS5jbGFzc1NlbGVjdG9yfWAgOiBcIlwifXhgO1xuICB9KS5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiBgdHJhbnNsYXRlKCR7ZC54MH0sJHtkLnkwfSlgKTtcbiAgY2VsbC5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4gZC54MSAtIGQueDApLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IGQueTEgLSBkLnkwKS5hdHRyKFwiY2xhc3NcIiwgXCJ0cmVlbWFwTGVhZlwiKS5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgIHJldHVybiBkLnBhcmVudCA/IGNvbG9yU2NhbGUoZC5wYXJlbnQuZGF0YS5uYW1lKSA6IGNvbG9yU2NhbGUoZC5kYXRhLm5hbWUpO1xuICB9KS5hdHRyKFwic3R5bGVcIiwgKGQpID0+IHtcbiAgICBjb25zdCBzdHlsZXMgPSBzdHlsZXMyU3RyaW5nKHsgY3NzQ29tcGlsZWRTdHlsZXM6IGQuZGF0YS5jc3NDb21waWxlZFN0eWxlcyB9KTtcbiAgICByZXR1cm4gc3R5bGVzLm5vZGVTdHlsZXM7XG4gIH0pLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgMC4zKS5hdHRyKFwic3Ryb2tlXCIsIChkKSA9PiB7XG4gICAgcmV0dXJuIGQucGFyZW50ID8gY29sb3JTY2FsZShkLnBhcmVudC5kYXRhLm5hbWUpIDogY29sb3JTY2FsZShkLmRhdGEubmFtZSk7XG4gIH0pLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMyk7XG4gIGNlbGwuYXBwZW5kKFwiY2xpcFBhdGhcIikuYXR0cihcImlkXCIsIChfZCwgaSkgPT4gYGNsaXAtJHtpZH0tJHtpfWApLmFwcGVuZChcInJlY3RcIikuYXR0cihcIndpZHRoXCIsIChkKSA9PiBNYXRoLm1heCgwLCBkLngxIC0gZC54MCAtIDQpKS5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiBNYXRoLm1heCgwLCBkLnkxIC0gZC55MCAtIDQpKTtcbiAgY29uc3QgbGVhZkxhYmVscyA9IGNlbGwuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJ0cmVlbWFwTGFiZWxcIikuYXR0cihcInhcIiwgKGQpID0+IChkLngxIC0gZC54MCkgLyAyKS5hdHRyKFwieVwiLCAoZCkgPT4gKGQueTEgLSBkLnkwKSAvIDIpLmF0dHIoXCJzdHlsZVwiLCAoZCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsU3R5bGVzID0gXCJ0ZXh0LWFuY2hvcjogbWlkZGxlOyBkb21pbmFudC1iYXNlbGluZTogbWlkZGxlOyBmb250LXNpemU6IDM4cHg7ZmlsbDpcIiArIGNvbG9yU2NhbGVMYWJlbChkLmRhdGEubmFtZSkgKyBcIjtcIjtcbiAgICBjb25zdCBzdHlsZXMgPSBzdHlsZXMyU3RyaW5nKHsgY3NzQ29tcGlsZWRTdHlsZXM6IGQuZGF0YS5jc3NDb21waWxlZFN0eWxlcyB9KTtcbiAgICByZXR1cm4gbGFiZWxTdHlsZXMgKyBzdHlsZXMubGFiZWxTdHlsZXMucmVwbGFjZShcImNvbG9yOlwiLCBcImZpbGw6XCIpO1xuICB9KS5hdHRyKFwiY2xpcC1wYXRoXCIsIChfZCwgaSkgPT4gYHVybCgjY2xpcC0ke2lkfS0ke2l9KWApLnRleHQoKGQpID0+IGQuZGF0YS5uYW1lKTtcbiAgbGVhZkxhYmVscy5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICBjb25zdCBzZWxmID0gc2VsZWN0KHRoaXMpO1xuICAgIGNvbnN0IG5vZGVXaWR0aCA9IGQueDEgLSBkLngwO1xuICAgIGNvbnN0IG5vZGVIZWlnaHQgPSBkLnkxIC0gZC55MDtcbiAgICBjb25zdCB0ZXh0Tm9kZSA9IHNlbGYubm9kZSgpO1xuICAgIGNvbnN0IHBhZGRpbmcgPSA0O1xuICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gbm9kZVdpZHRoIC0gMiAqIHBhZGRpbmc7XG4gICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gbm9kZUhlaWdodCAtIDIgKiBwYWRkaW5nO1xuICAgIGlmIChhdmFpbGFibGVXaWR0aCA8IDEwIHx8IGF2YWlsYWJsZUhlaWdodCA8IDEwKSB7XG4gICAgICBzZWxmLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjdXJyZW50TGFiZWxGb250U2l6ZSA9IHBhcnNlSW50KHNlbGYuc3R5bGUoXCJmb250LXNpemVcIiksIDEwKTtcbiAgICBjb25zdCBtaW5MYWJlbEZvbnRTaXplID0gODtcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlUmVsRm9udFNpemUgPSAyODtcbiAgICBjb25zdCB2YWx1ZVNjYWxlRmFjdG9yID0gMC42O1xuICAgIGNvbnN0IG1pblZhbHVlRm9udFNpemUgPSA2O1xuICAgIGNvbnN0IHNwYWNpbmdCZXR3ZWVuTGFiZWxBbmRWYWx1ZSA9IDI7XG4gICAgd2hpbGUgKHRleHROb2RlLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gYXZhaWxhYmxlV2lkdGggJiYgY3VycmVudExhYmVsRm9udFNpemUgPiBtaW5MYWJlbEZvbnRTaXplKSB7XG4gICAgICBjdXJyZW50TGFiZWxGb250U2l6ZS0tO1xuICAgICAgc2VsZi5zdHlsZShcImZvbnQtc2l6ZVwiLCBgJHtjdXJyZW50TGFiZWxGb250U2l6ZX1weGApO1xuICAgIH1cbiAgICBsZXQgcHJvc3BlY3RpdmVWYWx1ZUZvbnRTaXplID0gTWF0aC5tYXgoXG4gICAgICBtaW5WYWx1ZUZvbnRTaXplLFxuICAgICAgTWF0aC5taW4ob3JpZ2luYWxWYWx1ZVJlbEZvbnRTaXplLCBNYXRoLnJvdW5kKGN1cnJlbnRMYWJlbEZvbnRTaXplICogdmFsdWVTY2FsZUZhY3RvcikpXG4gICAgKTtcbiAgICBsZXQgY29tYmluZWRIZWlnaHQgPSBjdXJyZW50TGFiZWxGb250U2l6ZSArIHNwYWNpbmdCZXR3ZWVuTGFiZWxBbmRWYWx1ZSArIHByb3NwZWN0aXZlVmFsdWVGb250U2l6ZTtcbiAgICB3aGlsZSAoY29tYmluZWRIZWlnaHQgPiBhdmFpbGFibGVIZWlnaHQgJiYgY3VycmVudExhYmVsRm9udFNpemUgPiBtaW5MYWJlbEZvbnRTaXplKSB7XG4gICAgICBjdXJyZW50TGFiZWxGb250U2l6ZS0tO1xuICAgICAgcHJvc3BlY3RpdmVWYWx1ZUZvbnRTaXplID0gTWF0aC5tYXgoXG4gICAgICAgIG1pblZhbHVlRm9udFNpemUsXG4gICAgICAgIE1hdGgubWluKG9yaWdpbmFsVmFsdWVSZWxGb250U2l6ZSwgTWF0aC5yb3VuZChjdXJyZW50TGFiZWxGb250U2l6ZSAqIHZhbHVlU2NhbGVGYWN0b3IpKVxuICAgICAgKTtcbiAgICAgIGlmIChwcm9zcGVjdGl2ZVZhbHVlRm9udFNpemUgPCBtaW5WYWx1ZUZvbnRTaXplICYmIGN1cnJlbnRMYWJlbEZvbnRTaXplID09PSBtaW5MYWJlbEZvbnRTaXplKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc2VsZi5zdHlsZShcImZvbnQtc2l6ZVwiLCBgJHtjdXJyZW50TGFiZWxGb250U2l6ZX1weGApO1xuICAgICAgY29tYmluZWRIZWlnaHQgPSBjdXJyZW50TGFiZWxGb250U2l6ZSArIHNwYWNpbmdCZXR3ZWVuTGFiZWxBbmRWYWx1ZSArIHByb3NwZWN0aXZlVmFsdWVGb250U2l6ZTtcbiAgICAgIGlmIChwcm9zcGVjdGl2ZVZhbHVlRm9udFNpemUgPD0gbWluVmFsdWVGb250U2l6ZSAmJiBjb21iaW5lZEhlaWdodCA+IGF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLnN0eWxlKFwiZm9udC1zaXplXCIsIGAke2N1cnJlbnRMYWJlbEZvbnRTaXplfXB4YCk7XG4gICAgaWYgKHRleHROb2RlLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gYXZhaWxhYmxlV2lkdGggfHwgY3VycmVudExhYmVsRm9udFNpemUgPCBtaW5MYWJlbEZvbnRTaXplIHx8IGF2YWlsYWJsZUhlaWdodCA8IGN1cnJlbnRMYWJlbEZvbnRTaXplKSB7XG4gICAgICBzZWxmLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKGNvbmZpZy5zaG93VmFsdWVzICE9PSBmYWxzZSkge1xuICAgIGNvbnN0IGxlYWZWYWx1ZXMgPSBjZWxsLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsIFwidHJlZW1hcFZhbHVlXCIpLmF0dHIoXCJ4XCIsIChkKSA9PiAoZC54MSAtIGQueDApIC8gMikuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIChkLnkxIC0gZC55MCkgLyAyO1xuICAgIH0pLmF0dHIoXCJzdHlsZVwiLCAoZCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWxTdHlsZXMgPSBcInRleHQtYW5jaG9yOiBtaWRkbGU7IGRvbWluYW50LWJhc2VsaW5lOiBoYW5naW5nOyBmb250LXNpemU6IDI4cHg7ZmlsbDpcIiArIGNvbG9yU2NhbGVMYWJlbChkLmRhdGEubmFtZSkgKyBcIjtcIjtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlczJTdHJpbmcoeyBjc3NDb21waWxlZFN0eWxlczogZC5kYXRhLmNzc0NvbXBpbGVkU3R5bGVzIH0pO1xuICAgICAgcmV0dXJuIGxhYmVsU3R5bGVzICsgc3R5bGVzLmxhYmVsU3R5bGVzLnJlcGxhY2UoXCJjb2xvcjpcIiwgXCJmaWxsOlwiKTtcbiAgICB9KS5hdHRyKFwiY2xpcC1wYXRoXCIsIChfZCwgaSkgPT4gYHVybCgjY2xpcC0ke2lkfS0ke2l9KWApLnRleHQoKGQpID0+IGQudmFsdWUgPyB2YWx1ZUZvcm1hdChkLnZhbHVlKSA6IFwiXCIpO1xuICAgIGxlYWZWYWx1ZXMuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICBjb25zdCB2YWx1ZVRleHRFbGVtZW50ID0gc2VsZWN0KHRoaXMpO1xuICAgICAgY29uc3QgcGFyZW50Q2VsbE5vZGUgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICBpZiAoIXBhcmVudENlbGxOb2RlKSB7XG4gICAgICAgIHZhbHVlVGV4dEVsZW1lbnQuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gc2VsZWN0KHBhcmVudENlbGxOb2RlKS5zZWxlY3QoXCIudHJlZW1hcExhYmVsXCIpO1xuICAgICAgaWYgKGxhYmVsRWxlbWVudC5lbXB0eSgpIHx8IGxhYmVsRWxlbWVudC5zdHlsZShcImRpc3BsYXlcIikgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIHZhbHVlVGV4dEVsZW1lbnQuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZmluYWxMYWJlbEZvbnRTaXplID0gcGFyc2VGbG9hdChsYWJlbEVsZW1lbnQuc3R5bGUoXCJmb250LXNpemVcIikpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZUZvbnRTaXplID0gMjg7XG4gICAgICBjb25zdCB2YWx1ZVNjYWxlRmFjdG9yID0gMC42O1xuICAgICAgY29uc3QgbWluVmFsdWVGb250U2l6ZSA9IDY7XG4gICAgICBjb25zdCBzcGFjaW5nQmV0d2VlbkxhYmVsQW5kVmFsdWUgPSAyO1xuICAgICAgY29uc3QgYWN0dWFsVmFsdWVGb250U2l6ZSA9IE1hdGgubWF4KFxuICAgICAgICBtaW5WYWx1ZUZvbnRTaXplLFxuICAgICAgICBNYXRoLm1pbihvcmlnaW5hbFZhbHVlRm9udFNpemUsIE1hdGgucm91bmQoZmluYWxMYWJlbEZvbnRTaXplICogdmFsdWVTY2FsZUZhY3RvcikpXG4gICAgICApO1xuICAgICAgdmFsdWVUZXh0RWxlbWVudC5zdHlsZShcImZvbnQtc2l6ZVwiLCBgJHthY3R1YWxWYWx1ZUZvbnRTaXplfXB4YCk7XG4gICAgICBjb25zdCBsYWJlbENlbnRlclkgPSAoZC55MSAtIGQueTApIC8gMjtcbiAgICAgIGNvbnN0IHZhbHVlVG9wQWN0dWFsWSA9IGxhYmVsQ2VudGVyWSArIGZpbmFsTGFiZWxGb250U2l6ZSAvIDIgKyBzcGFjaW5nQmV0d2VlbkxhYmVsQW5kVmFsdWU7XG4gICAgICB2YWx1ZVRleHRFbGVtZW50LmF0dHIoXCJ5XCIsIHZhbHVlVG9wQWN0dWFsWSk7XG4gICAgICBjb25zdCBub2RlV2lkdGggPSBkLngxIC0gZC54MDtcbiAgICAgIGNvbnN0IG5vZGVUb3RhbEhlaWdodCA9IGQueTEgLSBkLnkwO1xuICAgICAgY29uc3QgY2VsbEJvdHRvbVBhZGRpbmcgPSA0O1xuICAgICAgY29uc3QgbWF4VmFsdWVCb3R0b21ZID0gbm9kZVRvdGFsSGVpZ2h0IC0gY2VsbEJvdHRvbVBhZGRpbmc7XG4gICAgICBjb25zdCBhdmFpbGFibGVXaWR0aEZvclZhbHVlID0gbm9kZVdpZHRoIC0gMiAqIDQ7XG4gICAgICBpZiAodmFsdWVUZXh0RWxlbWVudC5ub2RlKCkuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgPiBhdmFpbGFibGVXaWR0aEZvclZhbHVlIHx8IHZhbHVlVG9wQWN0dWFsWSArIGFjdHVhbFZhbHVlRm9udFNpemUgPiBtYXhWYWx1ZUJvdHRvbVkgfHwgYWN0dWFsVmFsdWVGb250U2l6ZSA8IG1pblZhbHVlRm9udFNpemUpIHtcbiAgICAgICAgdmFsdWVUZXh0RWxlbWVudC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVUZXh0RWxlbWVudC5zdHlsZShcImRpc3BsYXlcIiwgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgZGlhZ3JhbVBhZGRpbmcgPSBjb25maWcuZGlhZ3JhbVBhZGRpbmcgPz8gODtcbiAgc2V0dXBWaWV3UG9ydEZvclNWRyhzdmcsIGRpYWdyYW1QYWRkaW5nLCBcImZsb3djaGFydFwiLCBjb25maWc/LnVzZU1heFdpZHRoIHx8IGZhbHNlKTtcbn0sIFwiZHJhd1wiKTtcbnZhciBnZXRDbGFzc2VzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihfdGV4dCwgZGlhZ3JhbU9iaikge1xuICByZXR1cm4gZGlhZ3JhbU9iai5kYi5nZXRDbGFzc2VzKCk7XG59LCBcImdldENsYXNzZXNcIik7XG52YXIgcmVuZGVyZXIgPSB7IGRyYXcsIGdldENsYXNzZXMgfTtcblxuLy8gc3JjL2RpYWdyYW1zL3RyZWVtYXAvc3R5bGVzLnRzXG52YXIgZGVmYXVsdFRyZWVtYXBTdHlsZU9wdGlvbnMgPSB7XG4gIHNlY3Rpb25TdHJva2VDb2xvcjogXCJibGFja1wiLFxuICBzZWN0aW9uU3Ryb2tlV2lkdGg6IFwiMVwiLFxuICBzZWN0aW9uRmlsbENvbG9yOiBcIiNlZmVmZWZcIixcbiAgbGVhZlN0cm9rZUNvbG9yOiBcImJsYWNrXCIsXG4gIGxlYWZTdHJva2VXaWR0aDogXCIxXCIsXG4gIGxlYWZGaWxsQ29sb3I6IFwiI2VmZWZlZlwiLFxuICBsYWJlbENvbG9yOiBcImJsYWNrXCIsXG4gIGxhYmVsRm9udFNpemU6IFwiMTJweFwiLFxuICB2YWx1ZUZvbnRTaXplOiBcIjEwcHhcIixcbiAgdmFsdWVDb2xvcjogXCJibGFja1wiLFxuICB0aXRsZUNvbG9yOiBcImJsYWNrXCIsXG4gIHRpdGxlRm9udFNpemU6IFwiMTRweFwiXG59O1xudmFyIGdldFN0eWxlcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHtcbiAgdHJlZW1hcDogdHJlZW1hcDJcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBvcHRpb25zID0gY2xlYW5BbmRNZXJnZShkZWZhdWx0VHJlZW1hcFN0eWxlT3B0aW9ucywgdHJlZW1hcDIpO1xuICByZXR1cm4gYFxuICAudHJlZW1hcE5vZGUuc2VjdGlvbiB7XG4gICAgc3Ryb2tlOiAke29wdGlvbnMuc2VjdGlvblN0cm9rZUNvbG9yfTtcbiAgICBzdHJva2Utd2lkdGg6ICR7b3B0aW9ucy5zZWN0aW9uU3Ryb2tlV2lkdGh9O1xuICAgIGZpbGw6ICR7b3B0aW9ucy5zZWN0aW9uRmlsbENvbG9yfTtcbiAgfVxuICAudHJlZW1hcE5vZGUubGVhZiB7XG4gICAgc3Ryb2tlOiAke29wdGlvbnMubGVhZlN0cm9rZUNvbG9yfTtcbiAgICBzdHJva2Utd2lkdGg6ICR7b3B0aW9ucy5sZWFmU3Ryb2tlV2lkdGh9O1xuICAgIGZpbGw6ICR7b3B0aW9ucy5sZWFmRmlsbENvbG9yfTtcbiAgfVxuICAudHJlZW1hcExhYmVsIHtcbiAgICBmaWxsOiAke29wdGlvbnMubGFiZWxDb2xvcn07XG4gICAgZm9udC1zaXplOiAke29wdGlvbnMubGFiZWxGb250U2l6ZX07XG4gIH1cbiAgLnRyZWVtYXBWYWx1ZSB7XG4gICAgZmlsbDogJHtvcHRpb25zLnZhbHVlQ29sb3J9O1xuICAgIGZvbnQtc2l6ZTogJHtvcHRpb25zLnZhbHVlRm9udFNpemV9O1xuICB9XG4gIC50cmVlbWFwVGl0bGUge1xuICAgIGZpbGw6ICR7b3B0aW9ucy50aXRsZUNvbG9yfTtcbiAgICBmb250LXNpemU6ICR7b3B0aW9ucy50aXRsZUZvbnRTaXplfTtcbiAgfVxuICBgO1xufSwgXCJnZXRTdHlsZXNcIik7XG52YXIgc3R5bGVzX2RlZmF1bHQgPSBnZXRTdHlsZXM7XG5cbi8vIHNyYy9kaWFncmFtcy90cmVlbWFwL2RpYWdyYW0udHNcbnZhciBkaWFncmFtID0ge1xuICBwYXJzZXIsXG4gIGdldCBkYigpIHtcbiAgICByZXR1cm4gbmV3IFRyZWVNYXBEQigpO1xuICB9LFxuICByZW5kZXJlcixcbiAgc3R5bGVzOiBzdHlsZXNfZGVmYXVsdFxufTtcbmV4cG9ydCB7XG4gIGRpYWdyYW1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/diagram-PSM6KHXK.mjs\n\n}");

/***/ })

}]);