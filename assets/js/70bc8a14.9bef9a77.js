"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8447],{96424:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=n(24246),r=n(71670);const i={},a=void 0,o={id:"my/public/software/architecture/restful/index",title:"index",description:"https://nodejs.org/api/http.html#httpstatus_codes",source:"@site/docs/my/public/software/architecture/restful/index.md",sourceDirName:"my/public/software/architecture/restful",slug:"/my/public/software/architecture/restful/",permalink:"/note/docs/my/public/software/architecture/restful/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"misc",permalink:"/note/docs/my/public/software/architecture/misc"},next:{title:"errorHandle",permalink:"/note/docs/my/public/software/architecture/restful/errorHandle"}},c={},l=[{value:"convention",id:"convention",level:3}];function h(e){const t={a:"a",blockquote:"blockquote",br:"br",cite:"cite",code:"code",h3:"h3",li:"li",p:"p",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://nodejs.org/api/http.html#httpstatus_codes",children:"https://nodejs.org/api/http.html#httpstatus_codes"}),"\nhttp.STATUS_CODES",(0,s.jsx)(t.br,{}),"\nor simply query ",(0,s.jsx)(t.a,{href:"https://devdocs.io/",children:"https://devdocs.io/"})]}),"\n",(0,s.jsxs)(t.p,{children:["no reverse mapping, not defined in TS either, may use typescript to construct one?\nuse ",(0,s.jsx)(t.a,{href:"https://github.com/prettymuchbryce/http-status-codes#readme",children:"https://github.com/prettymuchbryce/http-status-codes#readme"})]}),"\n",(0,s.jsx)(t.p,{children:'very nice book: "priv5/src/text/production_ready_graphql_v1.2/EPUB/text/ch003.xhtml"'}),"\n",(0,s.jsx)(t.p,{children:"Endpoint based APIs"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"easily cacheable, discoverable, and simple to use by clients"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"GraphQL"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"client-centric"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["see ",(0,s.jsx)(t.a,{href:"https://cloud.google.com/functions/",children:"https://cloud.google.com/functions/"})," (commodity backend)"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://graphql.org/",children:"https://graphql.org/"}),"\nneat, presents a query api interface to client\n",(0,s.jsx)(t.a,{href:"https://mp.weixin.qq.com/s/PovMmO6ddcpBO5A2WtY89Q",children:"\u5e72\u8d27 | \u4e07\u5b57\u957f\u6587\u5168\u9762\u89e3\u6790GraphQL\uff0c\u643a\u7a0b\u5fae\u670d\u52a1\u80cc\u666f\u4e0b\u7684\u524d\u540e\u7aef\u6570\u636e\u4ea4\u4e92\u65b9\u6848"})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"\u6211\u4eec\u66fe\u7ecf\u8bd5\u56fe\u7528 RESTful \u98ce\u683c\u7684\u65e0\u7ebf API \u805a\u5408\u5c42\u6765\u89e3\u51b3\u95ee\u9898\u3002\u8fd9\u4e00\u5c42\u5b8c\u5168\u7531\u540e\n\u7aef\u5de5\u7a0b\u5e08\u5f00\u53d1\u548c\u8fed\u4ee3\uff08\u524d\u7aef\u4f5c\u4e3a\u4e0b\u6e38\u7b49\u5f85\u805a\u5408\u63a5\u53e3\u7684\u5951\u7ea6\uff09\uff0c\u4ed6\u4eec\u65e2\u8981\u7406\u89e3\u80cc\n\u540e\u5bf9\u63a5\u7684\u5fae\u670d\u52a1\u4f53\u7cfb\uff0c\u53c8\u8981\u7406\u89e3\u6bcf\u4e2a\u524d\u7aef\u9875\u9762\u7684\u5c55\u73b0\u9700\u6c42\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u968f\u7740\u9875\u9762\u6570\u91cf\u7684\u589e\u52a0\uff0c\u63a5\u53e3\u8c03\u7528\u65b9\u8d8a\u6765\u8d8a\u591a\uff0c\u540e\u7aef API \u805a\u5408\u5c42\u7684\u903b\u8f91\u8d8a\u6765\u8d8a\u91cd\u3002\n\u805a\u5408\u5c42\u81ea\u8eab\u6210\u4e3a\u65b0\u7684\u74f6\u9888\u6240\u5728\u3002\u5b9e\u9645\u60c5\u51b5\u662f\uff0c\u4f5c\u4e3a\u4e2d\u95f4\u5c42\u7684\u540e\u7aef\uff0c\u65e2\u96be\u4ee5\u5145\u5206\u5bf9\n\u63a5\u80cc\u540e\u7684\u5fae\u670d\u52a1\u4f53\u7cfb\uff0c\u4e5f\u96be\u4ee5\u5145\u5206\u7406\u89e3\u524d\u7aef\u7684\u9875\u9762\u5c55\u73b0\u9700\u6c42\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u4ed6\u4eec\u7684\u6574\u4f53\u5b9a\u4f4d\u5f88\u5c34\u5c2c\uff0c\u4ee3\u7801\u91cc\u65e2\u6709 UI \u5c55\u793a\u76f8\u5173\u7684\u8bdd\u672f\u7b49\u4fe1\u606f\uff0c\u53c8\u6709\u5927\u91cf\u63a5\u53e3\n\u76f8\u5173\u7684\u4e1a\u52a1\u903b\u8f91\u5904\u7406\u3002\u6bcf\u6b21\u53d1\u5e03\u8fed\u4ee3\uff0c\u90fd\u8981\u8ddf\u4e0a\u4e0b\u6e38\u505a\u5927\u91cf\u7684\u6c9f\u901a\u548c\u8054\u8c03\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u6211\u4eec\u6700\u7ec8\u610f\u8bc6\u5230\uff0c\u8ba9\u6700\u4e86\u89e3\u9875\u9762\u6570\u636e\u903b\u8f91\u7684\u524d\u7aef\u63a5\u7ba1\u4e2d\u95f4\u5c42\uff0c\u8ba9\u540e\u7aef\u56de\u5230\u4ed6\u4eec\u64c5\n\u957f\u7684\u9886\u57df\u6a21\u578b\uff0c\u53ef\u80fd\u662f\u66f4\u597d\u7684\u505a\u6cd5\u3002\u53ef\u4ee5\u51cf\u5c11\u5927\u5bb6\u6c9f\u901a\u6210\u672c\uff0c\u63d0\u9ad8\u524d\u540e\u7aef\u7684\u4e13\u4e1a\n\u5316\u7a0b\u5ea6\uff0c\u964d\u4f4e\u8054\u8c03\u538b\u529b\uff0c\u52a0\u5feb\u5f7c\u6b64\u7684\u5f00\u53d1\u6548\u7387\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u7b80\u5355\u7c97\u66b4\u7684\u628a RESTful API \u670d\u52a1\uff0c\u66ff\u6362\u6210 GraphQL \u5b9e\u73b0\u3002\u4e4b\u524d\u6709\u591a\u5c11 RESTful\n\u670d\u52a1\uff0c\u91cd\u6784\u540e\u5c31\u6709\u591a\u5c11 GraphQL \u670d\u52a1\u3002\u5b83\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4e00\u5bf9\u4e00\u5173\u7cfb\n\u96be\u4ee5\u53d1\u6325 GraphQL \u5408\u5e76\u8bf7\u6c42\u548c\u5173\u8054\u8bf7\u6c42\u7684\u80fd\u529b\u3002\u53ea\u662f\u8d77\u5230\u4e86\u6309\u9700\u67e5\u8be2\uff0c\u7cbe\u786e\u67e5\u8be2\u5b57\u6bb5\u7684\u4f5c\u7528\uff0c\u4ef7\u503c\u6709\u9650"}),"\n",(0,s.jsx)(t.p,{children:"GraphQL as an API Gateway \u6a21\u5f0f\n2 ways:\n1\uff09\u5305\u542b\u5927\u91cf\u771f\u5b9e\u7684\u6570\u636e\u64cd\u4f5c\u548c\u5904\u7406\u7684 GraphQL (\u53ef\u80fd\u5305\u542b\u5927\u91cf CPU \u5bc6\u96c6\u7684\u8ba1\u7b97)\n2\uff09\u8f6c\u53d1\u6570\u636e\u8bf7\u6c42\uff0c\u805a\u5408\u6570\u636e\u7ed3\u679c\u7684 GraphQL"}),"\n",(0,s.jsx)(t.p,{children:"\u4e00\u4e2a\u5305\u542b GraphQL \u5b9e\u73b0\u7684 Server\uff0c\u4e0d\u4e00\u5b9a\u901a\u8fc7 GraphQL \u67e5\u8be2\u8bed\u53e5\u8fdb\n\u884c\u524d\u540e\u7aef\u6570\u636e\u4ea4\u4e92\uff0c\u5b83\u53ef\u4ee5\u7ee7\u7eed\u6cbf\u7528 RESTful API \u98ce\u683c\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u628a GraphQL \u5f53\u4f5c\u4e00\u4e2a\u670d\u52a1\u7aef\u5f00\u53d1\u6846\u67b6\uff0c\u7136\u540e\u5728 RESTful \u7684\n\u5404\u4e2a\u63a5\u53e3\u91cc\uff0c\u53d1\u8d77 graphql \u67e5\u8be2\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u4e0d\u7ba1\u662f\u524d\u7aef\u8fd8\u662f\u5176\u5b83\u540e\u7aef\u670d\u52a1\uff0c\u90fd\u4e0d\u5fc5\u77e5\u9053 GraphQL \u7684\u5b58\u5728\u3002\u524d\u7aef\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\n\u8fd8\u662f RESTful API\uff0c\u5728 RESTful \u670d\u52a1\u5185\u90e8\uff0c\u5b83\u81ea\u5df1\u5411\u81ea\u5df1\u53d1\u8d77\u4e86 GraphQL \u67e5\u8be2\u3002"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["try ",(0,s.jsx)(t.code,{children:"priv5/src/text/production_ready_graphql_v1.2"})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://learning.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/ch04.html",children:"4 Encoding and Evolution Designing Data Intensive Applica"}),"\nEven though SOAP and its various extensions are ostensibly\nstandardized, interoperability between different vendors\u2019\nimplementations often causes problems. For all of these reasons,\nalthough SOAP is still used in many large enterprises, it has fallen\nout of favor in most smaller companies."]}),"\n",(0,s.jsxs)(t.p,{children:["A definition format such as OpenAPI, also known as ",(0,s.jsx)(t.a,{href:"http://www.Swagger.io",children:"www.Swagger.io"}),", can\nbe used to describe RESTful APIs and produce documentation."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html",children:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html"}),"\nopenapi3 seems better than openapi2"]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\nstateless: increase performance by removing server load of session-retention \n",(0,s.jsxs)(t.p,{children:["(WEIRD)\nThe GET, PUT, and DELETE methods are idempotent, meaning that applying\nthem multiple times to a resource results in the same state change of\nthe resource as applying them once, though the response might\ndiffer.\u200a GET and POST methods are cacheable, meaning\nthat responses to them are allowed to be stored for future reuse.\n",(0,s.jsxs)(t.cite,{children:["\n",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Representational_state_transfer",children:"https://en.wikipedia.org/wiki/Representational_state_transfer"}),"\n"]})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:'Unlike SOAP-based Web services, there is no "official" standard for\nRESTful Web APIs. This is because REST is an architectural style,\nwhile SOAP is a protocol. REST is not a standard in itself, but\nRESTful implementations make use of standards, such as HTTP, URI,\nJSON, and XML. Many developers also describe their APIs as being\nRESTful, even though these APIs actually don\'t fulfill all of the\narchitectural constraints described above (especially the uniform\ninterface constraint)'}),"\n",(0,s.jsxs)(t.p,{children:['The vast majority of APIs currently implemented adhere to a\n"pragmatic" REST implementation. This includes most of the APIs from\nthe "big players", such as Facebook, GitHub, Twitter, etc. There are\nvery few public APIs that are unanimously considered to be pure REST,\nbecause most APIs miss certain implementation details that purists\nconsider must-haves.\n',(0,s.jsx)(t.a,{href:"https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xxiii-application-programming-interfaces-apis",children:"https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xxiii-application-programming-interfaces-apis"})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"http://stackoverflow.com/questions/671118",children:"http What exactly is RESTful programming Stack Overflow"}),'\n"REST is a lightweight alternative to mechanisms like RPC (Remote\nProcedure Calls) and Web Services (SOAP, WSDL, et al.)."\n"REST is not a \'standard\'. There will never be a W3C recommendataion\nfor REST, for example. And while there are REST programming\nframeworks, working with REST is so simple that you can often "roll\nyour own" with standard library features in languages like Perl, Java,\nor C#."\none answer provides further thought on architecture']}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://developers.google.com/search/docs/crawling-indexing/url-structure",children:"use hyphen instead of underscore in url"})}),"\n",(0,s.jsx)(t.p,{children:"test tool:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"curl -F name=John \u2013insecure -H"}),"\n",(0,s.jsx)(t.li,{children:"plain browser  js  fetch"}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://httpie.org/",children:"https://httpie.org/"})}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://requests.readthedocs.io/en/master/",children:"https://requests.readthedocs.io/en/master/"}),"  with unittest"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/pashky/restclient.el",children:"https://github.com/pashky/restclient.el"}),"  need to check source"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/gregsexton/httprepl.el",children:"https://github.com/gregsexton/httprepl.el"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"see also dolt (database)"}),"\n",(0,s.jsx)(t.h3,{id:"convention",children:"convention"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://medium.com/@nadinCodeHat/rest-api-naming-conventions-and-best-practices-1c4e781eb6a5",children:"Good but not great"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/tanstack/query/blob/18c9f77a4f08f13f24a44be5c87e8535ade882ae/docs/react/guides/updates-from-mutation-responses.md#L6",children:"new object to be automatically returned in the response of the mutation"})})]})}function p(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},71670:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>a});var s=n(27378);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);