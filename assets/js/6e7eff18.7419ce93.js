"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1281],{63491:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var s=n(24246),i=n(71670);const r={},o=void 0,c={id:"my/public/software/JavaScript/TypeScript",title:"TypeScript",description:"tips",source:"@site/docs/my/public/software/JavaScript/TypeScript.md",sourceDirName:"my/public/software/JavaScript",slug:"/my/public/software/JavaScript/TypeScript",permalink:"/note/docs/my/public/software/JavaScript/TypeScript",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"React",permalink:"/note/docs/my/public/software/JavaScript/React"},next:{title:"bundle",permalink:"/note/docs/my/public/software/JavaScript/bundle"}},p={},a=[{value:"tips",id:"tips",level:3},{value:"debug",id:"debug",level:3},{value:"problem",id:"problem",level:3},{value:"comment doc",id:"comment-doc",level:3},{value:"type vs. interface",id:"type-vs-interface",level:3},{value:"class",id:"class",level:3},{value:"ref.",id:"ref",level:3}];function d(e){const t={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h3,{id:"tips",children:"tips"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"// @ts-nocheck"})," skip a file"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"// @ts-ignore"})," or ",(0,s.jsx)(t.code,{children:"// @ts-expect-error"})," on the preceding line"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/microsoft/TypeScript/issues/19139",children:"open issue: @ts-ignore for specific errors"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"debug",children:"debug"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://stackoverflow.com/questions/58565584/how-can-i-see-how-typescript-computes-types",children:"hard to see how TypeScript computes types - Stack Overflow"})}),"\n",(0,s.jsx)(t.h3,{id:"problem",children:"problem"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'// hard to understand, is TypeScript a good language?\n\n// not work, slightly modified from https://github.com/microsoft/TypeScript-Website/blob/7e29e7d81a9972eb05ad4507a4bfb2d3f04fb1e7/packages/documentation/copy/en/handbook-v2/Type%20Manipulation/Conditional%20Types.md\n\ninterface IdLabel {\n  id: number /* some fields */;\n}\ninterface NameLabel {\n  name: string /* other fields */;\n}\ntype NameOrId<T extends number | string> = T extends number\n  ? IdLabel\n  : NameLabel;\n\nfunction createLabel<T extends number | string>(idOrName: T): NameOrId<T> {\n  if (typeof idOrName === "number") {\n    // type t = ExpandRecursively<NameOrId<typeof idOrName>>;\n    const x: IdLabel = { id: 1 };\n    return x;\n    //return {id: idOrName}\n  } else {\n    return { name: idOrName };\n  }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/microsoft/TypeScript/issues/7318",children:"ts v5  no decorators for functions, only for class"})}),"\n",(0,s.jsx)(t.h3,{id:"comment-doc",children:"comment doc"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://tsdoc.org/",children:"https://tsdoc.org/"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/TypeStrong/typedoc",children:"https://github.com/TypeStrong/typedoc"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"deno doc"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsxs)(t.a,{href:"https://github.com/microsoft/TypeScript/issues/51177",children:["Syntactically important comments removed from emitted code (",(0,s.jsx)(t.code,{children:"@deprecated"})," and others) \xb7 microsoft/TypeScript \xb7 GitHub"]}),"\ntsconfig 'removeComments: false' + \"run a 3rd-party minifier\""]}),"\n",(0,s.jsx)(t.p,{children:"gf:/public/src/profession/javascript/doc/TypeScript-Website/packages/documentation/copy/en/javascript/JSDoc Reference.md"}),"\n",(0,s.jsx)(t.h3,{id:"type-vs-interface",children:"type vs. interface"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/microsoft/TypeScript/issues/15300",children:"https://github.com/microsoft/TypeScript/issues/15300"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"interface IndexType {\n  [key: string]: string;\n}\n\ninterface doesNotWork {\n  hola: string;\n}\ntype doWorks = { hola: string };\n\nlet varIndexType: IndexType;\nvarIndexType = { hola: 'hello' };\n\nconst correct: doWorks = { hola: 'hello' };\nvarIndexType = correct;\n\nconst itypeConst: doesNotWork = { hola: 'hello ' };\nvarIndexType = itypeConst; //Index signature is missing in type 'doesNotWork'\nvarIndexType = { ...itypeConst }; //workaround but not equivalent since the instance is not the same\nvarIndexType = itypeConst as unknown as IndexType; //workaround\n"})}),"\n",(0,s.jsx)(t.h3,{id:"class",children:"class"}),"\n",(0,s.jsx)(t.p,{children:"Guess in typescript, no function implementation (not mere declaration) is allowed in type interface."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"// best?\ntype MoneyAmountType = {\n  amountInclTax?: number;\n  ...\n};\n\nexport class MoneyAmount {\n  // not repeat definition\n  constructor(public value: MoneyAmountType) {\n  }\n\n  // able to put in implementation code\n  getJPYAmountInclTax() {\n  ...\n  }\n"})}),"\n",(0,s.jsx)(t.h3,{id:"ref",children:"ref."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/TypeScript",children:"https://en.wikipedia.org/wiki/TypeScript"}),"\n",(0,s.jsx)(t.a,{href:"https://www.typescriptlang.org",children:"https://www.typescriptlang.org"}),"\n",(0,s.jsx)(t.a,{href:"https://www.typescriptlang.org/cheatsheets",children:"https://www.typescriptlang.org/cheatsheets"})]}),"\n",(0,s.jsxs)(t.p,{children:['"supporting so many languages, the AWS CDK is developed in one language (TypeScript)"\n',(0,s.jsx)(t.a,{href:"https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html",children:"https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/DefinitelyTyped/DefinitelyTyped",children:"https://github.com/DefinitelyTyped/DefinitelyTyped"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#visual-studio-code",children:"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#visual-studio-code"}),"\n",(0,s.jsx)(t.a,{href:"https://github.com/ananthakumaran/tide",children:"https://github.com/ananthakumaran/tide"}),"\nnot seem easy to setup, so skip"]}),"\n",(0,s.jsx)(t.p,{children:"some are not intuitive, boring to read"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://stackoverflow.com/questions/51145180/how-to-use-ts-ignore-for-a-block",children:"https://stackoverflow.com/questions/51145180/how-to-use-ts-ignore-for-a-block"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://topenddevs.com/podcasts/javascript-jabber/episodes/to-typescript-or-not-to-typescript-jsj-538",children:"https://topenddevs.com/podcasts/javascript-jabber/episodes/to-typescript-or-not-to-typescript-jsj-538"}),"\ninteresting opinions:\nTypeScript was made for C#-on-web\nadds too many things not in native JS (so learn it separately from JS)"]}),"\n",(0,s.jsx)(t.p,{children:"[[gf:/priv5/notes/programming/lang/typescript.ts]]"}),"\n",(0,s.jsxs)(t.p,{children:["[[",(0,s.jsx)(t.a,{href:"https://stackoverflow.com/questions/62619058/appending-js-extension-on-relative-import-statements-during-typescript-compilat%5D%5Bjavascript",children:"https://stackoverflow.com/questions/62619058/appending-js-extension-on-relative-import-statements-during-typescript-compilat][javascript"})," - Appending .js extension on relative import during Typescript compilation]]\nsimply add '.js', but it breaks jest\nin jest config:\n",(0,s.jsx)(t.a,{href:"https://kulshekhar.github.io/ts-jest/docs/guides/esm-support/",children:"https://kulshekhar.github.io/ts-jest/docs/guides/esm-support/"}),"\n: moduleNameMapper: {'^(\\.{1,2}/.*)\\.js$': '$1',},"]})]})}function l(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},71670:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>o});var s=n(27378);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);