"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4909],{72137:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var n=r(24246),s=r(71670);const o={},a=void 0,i={id:"my/public/software/JavaScript/React",title:"React",description:"good",source:"@site/docs/my/public/software/JavaScript/React.md",sourceDirName:"my/public/software/JavaScript",slug:"/my/public/software/JavaScript/React",permalink:"/note/docs/my/public/software/JavaScript/React",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"test",permalink:"/note/docs/my/public/software/JavaScript/React/test"},next:{title:"TypeScript",permalink:"/note/docs/my/public/software/JavaScript/TypeScript"}},c={},l=[{value:"good",id:"good",level:2},{value:"tool",id:"tool",level:2},{value:"type",id:"type",level:2},{value:"library",id:"library",level:2},{value:"chart",id:"chart",level:3},{value:"hook",id:"hook",level:2},{value:"render",id:"render",level:2},{value:"pattern",id:"pattern",level:2},{value:"Pure presentational",id:"pure-presentational",level:3},{value:"force",id:"force",level:3},{value:"alternatives",id:"alternatives",level:2},{value:"Preact",id:"preact",level:3},{value:"ref",id:"ref",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",cite:"cite",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"good",children:"good"}),"\n",(0,n.jsx)(t.p,{children:'"I\'m not aware of anything like Framer Motion for other (than React) front-end frameworks."'}),"\n",(0,n.jsx)(t.h2,{id:"tool",children:"tool"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://transform.tools/html-to-jsx",children:"https://transform.tools/html-to-jsx"})," (as recommended in ",(0,n.jsx)(t.a,{href:"https://react.dev/learn/writing-markup-with-jsx",children:"https://react.dev/learn/writing-markup-with-jsx"}),")\np2 check ",(0,n.jsx)(t.a,{href:"https://github.com/ritz078/transform",children:"https://github.com/ritz078/transform"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"// p2 check this pkg\nimport { useMediaQuery } from 'react-responsive';\n// or use hardcoded value to compare with window.innerWidth\n\nhttps://github.com/kodingdotninja/use-tailwind-breakpoint\nworks outside tailwind too\nsafe?\n\nimport { useMediaQuery } from '@mui/material';\n\n\n// check agent string  not good\n\n"})}),"\n",(0,n.jsx)(t.h2,{id:"type",children:"type"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"// @types/react-dom, seems no good doc (2023-07-10) \n\n// element type\nJSX.IntrinsicElements['textarea']\n\n"})}),"\n",(0,n.jsx)(t.h2,{id:"library",children:"library"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://mui.com/store/collections/free-react-dashboard/",children:"https://mui.com/store/collections/free-react-dashboard/"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://mui.com/material-ui/discover-more/related-projects/",children:"https://mui.com/material-ui/discover-more/related-projects/"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://mui-plus.vercel.app/components/visx",children:"https://mui-plus.vercel.app/components/visx"}),"  uses visx"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"check user-agent"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["simple: ",(0,n.jsx)(t.a,{href:"https://devdocs.io/dom/window/navigator",children:"https://devdocs.io/dom/window/navigator"})]}),"\n",(0,n.jsxs)(t.li,{children:["p2 check ",(0,n.jsx)(t.a,{href:"https://www.npmjs.com/package/react-device-detect",children:"https://www.npmjs.com/package/react-device-detect"})]}),"\n",(0,n.jsxs)(t.li,{children:["p2 check ",(0,n.jsx)(t.a,{href:"https://github.com/oieduardorabelo/use-user-agent",children:"https://github.com/oieduardorabelo/use-user-agent"})]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"file upload:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/react-dropzone/react-dropzone",children:"https://github.com/react-dropzone/react-dropzone"}),"  v14.2.3 bad doc (2024-01-26  no way to restrict to pick single file  Chrome Safari/macOS)"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"chart",children:"chart"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://blog.logrocket.com/top-8-react-chart-libraries/#echarts",children:"https://blog.logrocket.com/top-8-react-chart-libraries/#echarts"}),"\n2023  seems best ",(0,n.jsx)(t.a,{href:"https://github.com/apache/echarts",children:"https://github.com/apache/echarts"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["doc: ",(0,n.jsx)(t.a,{href:"https://github.com/apache/echarts-handbook/",children:"https://github.com/apache/echarts-handbook/"})]}),"\n",(0,n.jsxs)(t.li,{children:["may need work to integrate with react  e.g. ",(0,n.jsx)(t.a,{href:"https://github.com/hustcc/echarts-for-react",children:"https://github.com/hustcc/echarts-for-react"})]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://github.com/recharts/recharts",children:"https://github.com/recharts/recharts"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["built with React and ",(0,n.jsx)(t.a,{href:"http://d3js.org/",children:"http://d3js.org/"})]}),"\n",(0,n.jsxs)(t.li,{children:["not sure how to theme it like material-UI, maybe pure CSS like this? ",(0,n.jsx)(t.a,{href:"http://stackoverflow.com/questions/51078631",children:"reactjs How to change font family for React Recharts libra"})]}),"\n",(0,n.jsx)(t.li,{children:"works with docusaurus server-side rendering, a little buggy?"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"hook",children:"hook"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/donavon/use-persisted-state",children:"https://github.com/donavon/use-persisted-state"}),"\ngf:public/src/profession/javascript/packages/use-persisted-state"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\ud83d\udcbe Persists the state to ",(0,n.jsx)(t.code,{children:"localStorage"})]}),"\n",(0,n.jsx)(t.li,{children:"\ud83d\udda5 Syncs between tabs and/or browser windows"}),"\n",(0,n.jsx)(t.li,{children:"\ud83d\udcd1 Shares state w/multiple hooks on a page"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["other idea: react-query useQuery from ",(0,n.jsx)(t.code,{children:"localStorage"})," periodically"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n  ",(0,n.jsx)(t.p,{style:{},children:"\n"}),(0,n.jsx)(t.p,{children:"There are specific reasons both of these hooks are built-into React:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Referential equality"}),"\n",(0,n.jsx)(t.li,{children:"Computationally expensive calculations"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"MOST OF THE TIME YOU SHOULD NOT BOTHER OPTIMIZING UNNECESSARY\nRERENDERS. React is VERY fast"}),"\n",(0,n.jsx)(t.p,{children:"it can be tricky to get right all the time so you may not be reaping\nany benefits at all anyway"}),"\n",(0,n.jsx)(t.p,{children:"every abstraction (and performance optimization) comes at a cost.\nApply the AHA Programming principle and wait until the\nabstraction/optimization is screaming at you before applying it and\nyou'll save yourself from incurring the costs without reaping the\nbenefit."}),"\n",(0,n.jsx)(t.p,{children:"Specifically the cost for useCallback and useMemo are that you make\nthe code more complex for your co-workers, you could make a mistake in\nthe dependencies array, and you're potentially making performance\nworse by invoking the built-in hooks and preventing dependencies and\nmemoized values from being garbage collected. Those are all fine costs\nto incur if you get the performance benefits necessary, but it's best\nto measure first."}),"\n",(0,n.jsxs)(t.p,{children:["p2 read ",(0,n.jsx)(t.a,{href:"https://kentcdodds.com/blog/aha-programming",children:"https://kentcdodds.com/blog/aha-programming"})]}),"\n  ",(0,n.jsx)(t.p,{}),"\n  ",(0,n.jsx)(t.cite,{children:"\nhttps://kentcdodds.com/blog/usememo-and-usecallback\n2019\ngood doubt of using it\n  "}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"render",children:"render"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{style:{},children:["\n",(0,n.jsx)(t.a,{href:"https://react.dev/reference/react",children:" 2023-11-08 React Reference Overview \u2013 React "}),"\nBy default, when a component re-renders, React re-renders all of its children recursively. \nmay use https://react.dev/reference/react/memo\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"pattern",children:"pattern"}),"\n",(0,n.jsx)(t.h3,{id:"pure-presentational",children:"Pure presentational"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/storybookjs/storybook/blob/3e61433725866d3565489f1de7ced5b3510efde1/docs/writing-stories/build-pages-with-storybook.md#L12",children:"https://github.com/storybookjs/storybook/blob/3e61433725866d3565489f1de7ced5b3510efde1/docs/writing-stories/build-pages-with-storybook.md#L12"}),'\nPut query ("connected") logic away from presentational component.']}),"\n",(0,n.jsx)(t.h3,{id:"force",children:"force"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://stackoverflow.com/questions/46240647/how-to-force-a-functional-react-component-to-render/53837442#53837442",children:"https://stackoverflow.com/questions/46240647/how-to-force-a-functional-react-component-to-render/53837442#53837442"}),"\n",(0,n.jsx)(t.a,{href:"https://legacy.reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate",children:"https://legacy.reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"// 2023-11-08 seems that what matters is that some state changed, even if its value ignored\nfunction useForceUpdate(){\n    const [value, setValue] = useState(0); // integer state\n    return () => setValue(value => value + 1); // update state to force render\n}\n\n// use hook like this\nconst forceUpdate = useForceUpdate();  // a function\n\n// or simpler\nconst [, forceUpdate] = useReducer(x => x + 1, 0);\n"})}),"\n",(0,n.jsx)(t.h2,{id:"alternatives",children:"alternatives"}),"\n",(0,n.jsx)(t.h3,{id:"preact",children:"Preact"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://preactjs.com/guide/v10/differences-to-react",children:"https://preactjs.com/guide/v10/differences-to-react"}),"\n",(0,n.jsx)(t.a,{href:"https://gearheart.io/articles/what-is-the-difference-between-react-vs-preact-and-how-to-choose-the-right-technology/",children:"https://gearheart.io/articles/what-is-the-difference-between-react-vs-preact-and-how-to-choose-the-right-technology/"}),"\n2023-06 Preact not seem to make sense or worth time, only usable for niche (old, low-power browser)"]}),"\n",(0,n.jsx)(t.h2,{id:"ref",children:"ref"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://web.dev/react/",children:"https://web.dev/react/"}),"\njust a small old collection of tips"]})]})}function d(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},71670:(e,t,r)=>{r.d(t,{Z:()=>i,a:()=>a});var n=r(27378);const s={},o=n.createContext(s);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);